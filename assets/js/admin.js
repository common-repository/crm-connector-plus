!function(e){function t(t){for(var s,l,i=t[0],c=t[1],r=t[2],m=0,u=[];m<i.length;m++)l=i[m],n[l]&&u.push(n[l][0]),n[l]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(d&&d(t);u.length;)u.shift()();return o.push.apply(o,r||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(s=!1)}s&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},n={0:0},o=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var r=0;r<i.length;r++)t(i[r]);var d=c;o.push([220,2]),a()}({10:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(0);const n=a.n(s).a.createContext()},210:function(e,t,a){"use strict";a.d(t,"a",function(){return c});var s=a(6),n=a.n(s),o=a(0),l=a.n(o),i=a(10);class c extends o.Component{constructor(...e){super(...e),n()(this,"state",{showComponent:"form-manage",switchFormComponent:"step1",btnLoader:l.a.createElement("div",{className:"ball-beat"},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)),loaderText:l.a.createElement("div",{className:"ajax-loader loading"}),loaderLicenseText:l.a.createElement("div",{className:"ajax-loader loading",style:{minHeight:"10px"}},"Loading"),checkAddons:{crmAddons:!1,helpdeskAddons:!1},defaultFormFields:{},mappingFields:{},formInfo:{formType:"",syncType:"DATA_BUCKET_ONLY"},crmConfigData:{},isEditForm:!1,resultData:{activeForm:[],module:[],duplicateOption:[],recordOwner:[]},mandatoryFields:[],fieldCheck:{},mappingResult:{},isCRMConfigured:!1,isHelpdeskConfigured:!1,formSettingsData:{},userConfigurationStatus:!1,woocommerceConfigurationstatus:!1,dataBucketFormList:[],selectedDataBucketFormDetails:{},cartProductLists:[],marketPlaceArray:[{title:"Zoho CRM Pro Plus",image:"zohocrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Zoho CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$40",state:"install",checkedaddon:"",name:"zohocrm",id:"334700255",slug:"zoho-crm-pro-plus"},{title:"Vtiger Pro Plus",image:"vtigercrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to VtigerCRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$40",state:"install",checkedaddon:"",name:"vtigercrm",id:"334700251",slug:"vtiger-pro-plus"},{title:"Sugar Pro Plus",image:"sugarcrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Sugar CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$30",state:"install",checkedaddon:"",name:"sugarcrm",id:"334700254",slug:"sugar-pro-plus"},{title:"Salesforce Pro Plus",image:"salesforcecrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Salesforce CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$40",state:"install",checkedaddon:"",name:"salesforcecrm",id:"334700250",slug:"salesforce-pro-plus"},{title:"Suite CRM Pro Plus",image:"suitecrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Suite CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$30",state:"install",checkedaddon:"",name:"suitecrm",id:"334700256",slug:"suite-crm-pro-plus"},{title:"Freshsales Pro Plus",image:"freshsalescrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Freshsales CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$30",state:"install",checkedaddon:"",name:"freshsalescrm",id:"334700252",slug:"freshsales-pro-plus"},{title:"All In One Crm Leads Plus",image:"allinonecrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to All in one CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$30",state:"install",checkedaddon:"",name:"allinonecrmleadscrm",id:"334700252",slug:"all_in_one_crm_leads_plus"},{title:"Freshdesk Pro Plus",image:"freshdesk.png",groupname:"helpdesk",description:"Sync data from Webforms,Users and WooCommerce to Freshdesk. Embed forms as Posts & Widgets.",subscription:"free",price:"$10",state:"install",checkedaddon:"",name:"freshdesk",id:"334700260",slug:"freshdesk-pro-plus"},{title:"Zendesk Pro Plus",image:"zendesk.png",groupname:"helpdesk",description:"Sync data from Webforms,Users and WooCommerce to Zendesk. Embed forms as Posts & Widgets.",subscription:"free",price:"$10",state:"install",checkedaddon:"",name:"zendesk",id:"334700259",slug:"zendesk-pro-plus"},{title:"Vtiger Ticket Pro Plus",image:"vtigersupport.png",groupname:"helpdesk",description:"Sync data from Webforms,Users and WooCommerce to Vtiger Tickets. Embed forms as Posts & Widgets.",subscription:"free",price:"$10",state:"install",checkedaddon:"",name:"vtigersupport",id:"334700258",slug:"vtiger-ticket-pro-plus"},{title:"Zoho Desk Pro Plus",image:"zohosupport.png",groupname:"helpdesk",description:" Sync data from Webforms,Users and WooCommerce to Zoho Desk. Embed forms as Posts & Widgets.",subscription:"free",price:"$10",state:"install",checkedaddon:"",name:"zohosupport",id:"334700257",slug:"zoho-desk-pro-plus"},{title:"Ninja Form WP Pro Plus",image:"ninjaforms.png",groupname:"forms",description:"Sync data from Ninja forms to other CRM. Embed forms as Posts & Widgets.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"wp-ninja-forms-supports",id:"334700267",slug:"ninja-form-wp-pro-plus"},{title:"Qu Form Pro Plus",image:"quform.png",groupname:"forms",description:"Sync data from Qu forms to other CRM. Embed forms as Posts & Widgets.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"qu-form-support",id:"334700265",slug:"qu-form-pro-plus"},{title:"Gravity Form Pro Plus",image:"gravityforms.jpg",groupname:"forms",description:"Sync data from Gravity forms to other CRM. Embed forms as Posts & Widgets.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"gravity-forms-supports",id:"334700266",slug:"gravity-form-pro-plus"},{title:"Contact Form Pro Plus",image:"contactform7.png",groupname:"forms",description:"Sync data from Contact forms to other CRM. Embed forms as Posts & Widgets.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"contact-forms-supports",id:"334700263",slug:"contact-form-pro-plus"},{title:"Caldera Form Pro Plus",image:"calderaforms.png",groupname:"forms",description:"Sync data from Caldera Forms to other CRM & Helpdesk . Embed forms as Posts & Widgets.",subscription:"pro",price:"$10",state:"buy now",checkedaddon:"",name:"caldera-forms-supports",id:"334700268",slug:"caldera-form-pro-plus"},{title:"WP Form Pro Plus",image:"wpforms.png",groupname:"forms",description:"Sync data from WP Form to other CRM & Helpdesk . Embed forms as Posts & Widgets.",subscription:"pro",price:"$10",state:"buy now",checkedaddon:"",name:"wp-forms-supports",id:"334700269",slug:"wp-form-pro-plus"},{title:"Leads Multi Forms Pro Plus",image:"wpforms.png",groupname:"forms",description:"Sync data from Leads Multi Form to other CRM & Helpdesk . Embed forms as Posts & Widgets.",subscription:"pro",price:"$10",state:"buy now",checkedaddon:"",name:"multi-forms-supports",id:"334700269",slug:"leads-multi-forms-pro-plus"},{title:"Users Sync Pro Plus",image:"usersync.png",groupname:"others",description:"Sync data from Users to other CRM.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"user-sync",id:"334700262",slug:"user-sync-pro-plus"},{title:"Woocommerce Sync Pro Plus",image:"woocommercesync.png",groupname:"others",description:"Sync data from WooCommerce to other CRM.",subscription:"pro",price:"$29",state:"buy now",checkedaddon:"",name:"user-sync",id:"334700261",slug:"woocommerce-sync-pro-plus"}],backupMarketPlaceArray:[{title:"Zoho CRM Pro Plus",image:"zohocrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Zoho CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$40",state:"install",checkedaddon:"",name:"zohocrm",id:"334700255",slug:"zoho-crm-pro-plus"},{title:"Vtiger Pro Plus",image:"vtigercrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to VtigerCRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$40",state:"install",checkedaddon:"",name:"vtigercrm",id:"334700251",slug:"vtiger-pro-plus"},{title:"Sugar Pro Plus",image:"sugarcrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Sugar CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$30",state:"install",checkedaddon:"",name:"sugarcrm",id:"334700254",slug:"sugar-pro-plus"},{title:"Salesforce Pro Plus",image:"salesforcecrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Salesforce CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$40",state:"install",checkedaddon:"",name:"salesforcecrm",id:"334700250",slug:"salesforce-pro-plus"},{title:"Suite CRM Pro Plus",image:"suitecrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Suite CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$30",state:"install",checkedaddon:"",name:"suitecrm",id:"334700256",slug:"suite-crm-pro-plus"},{title:"Freshsales Pro Plus",image:"freshsalescrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to Freshsales CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$30",state:"install",checkedaddon:"",name:"freshsalescrm",id:"334700252",slug:"freshsales-pro-plus"},{title:"All In One Crm Leads Plus",image:"allinonecrm.png",groupname:"crm",description:"Sync data from Webforms,Users and WooCommerce to All in one CRM. Embed forms as Posts & Widgets.",subscription:"free",price:"$30",state:"install",checkedaddon:"",name:"allinonecrmleadscrm",id:"334700252",slug:"all_in_one_crm_leads_plus"},{title:"Freshdesk Pro Plus",image:"freshdesk.png",groupname:"helpdesk",description:"Sync data from Webforms,Users and WooCommerce to Freshdesk. Embed forms as Posts & Widgets.",subscription:"free",price:"$10",state:"install",checkedaddon:"",name:"freshdesk",id:"334700260",slug:"freshdesk-pro-plus"},{title:"Zendesk Pro Plus",image:"zendesk.png",groupname:"helpdesk",description:"Sync data from Webforms,Users and WooCommerce to Zendesk. Embed forms as Posts & Widgets.",subscription:"free",price:"$10",state:"install",checkedaddon:"",name:"zendesk",id:"334700259",slug:"zendesk-pro-plus"},{title:"Vtiger Ticket Pro Plus",image:"vtigersupport.png",groupname:"helpdesk",description:"Sync data from Webforms,Users and WooCommerce to Vtiger Tickets. Embed forms as Posts & Widgets.",subscription:"free",price:"$10",state:"install",checkedaddon:"",name:"vtigersupport",id:"334700258",slug:"vtiger-ticket-pro-plus"},{title:"Zoho Desk Pro Plus",image:"zohosupport.png",groupname:"helpdesk",description:" Sync data from Webforms,Users and WooCommerce to Zoho Desk. Embed forms as Posts & Widgets.",subscription:"free",price:"$10",state:"install",checkedaddon:"",name:"zohosupport",id:"334700257",slug:"zoho-desk-pro-plus"},{title:"Ninja Form WP Pro Plus",image:"ninjaforms.png",groupname:"forms",description:"Sync data from Ninja forms to other CRM. Embed forms as Posts & Widgets.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"wp-ninja-forms-supports",id:"334700267",slug:"ninja-form-wp-pro-plus"},{title:"Qu Form Pro Plus",image:"quform.png",groupname:"forms",description:"Sync data from Qu forms to other CRM. Embed forms as Posts & Widgets.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"qu-form-support",id:"334700265",slug:"qu-form-pro-plus"},{title:"Gravity Form Pro Plus",image:"gravityforms.jpg",groupname:"forms",description:"Sync data from Gravity forms to other CRM. Embed forms as Posts & Widgets.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"gravity-forms-supports",id:"334700266",slug:"gravity-form-pro-plus"},{title:"Contact Form Pro Plus",image:"contactform7.png",groupname:"forms",description:"Sync data from Contact forms to other CRM. Embed forms as Posts & Widgets.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"contact-forms-supports",id:"334700263",slug:"contact-form-pro-plus"},{title:"Caldera Form Pro Plus",image:"calderaforms.png",groupname:"forms",description:"Sync data from Caldera Forms to other CRM & Helpdesk . Embed forms as Posts & Widgets.",subscription:"pro",price:"$10",state:"buy now",checkedaddon:"",name:"caldera-forms-supports",id:"334700268",slug:"caldera-form-pro-plus"},{title:"WP Form Pro Plus",image:"wpforms.png",groupname:"forms",description:"Sync data from WP Form to other CRM & Helpdesk . Embed forms as Posts & Widgets.",subscription:"pro",price:"$10",state:"buy now",checkedaddon:"",name:"wp-forms-supports",id:"334700269",slug:"wp-form-pro-plus"},{title:"Leads Multi Forms Pro Plus",image:"wpforms.png",groupname:"forms",description:"Sync data from Leads Multi Form to other CRM & Helpdesk . Embed forms as Posts & Widgets.",subscription:"pro",price:"$10",state:"buy now",checkedaddon:"",name:"multi-forms-supports",id:"334700269",slug:"leads-multi-forms-pro-plus"},{title:"Users Sync Pro Plus",image:"usersync.png",groupname:"others",description:"Sync data from Users to other CRM.",subscription:"pro",price:"$12",state:"buy now",checkedaddon:"",name:"user-sync",id:"334700262",slug:"user-sync-pro-plus"},{title:"Woocommerce Sync Pro Plus",image:"woocommercesync.png",groupname:"others",description:"Sync data from WooCommerce to other CRM.",subscription:"pro",price:"$29",state:"buy now",checkedaddon:"",name:"user-sync",id:"334700261",slug:"woocommerce-sync-pro-plus"}],selectedAddons:[],searchedText:"",domainName:"",addtoCart:!1,licenseActivated:!1,addonSlug:"",installedAddons:[],language:{},showLicenseTab:!1,showLicenseDetailsTab:!1,setShowComponent:e=>{this.setState({showComponent:e})},setSwitchFormComponent:e=>{this.setState({switchFormComponent:e})},setCheckAddons:e=>{this.setState({checkAddons:e})},setDefaultFormFields:(e,t)=>{this.setState({defaultFormFields:e},t)},setMappingFields:(e,t)=>{this.setState({mappingFields:e},t)},setFormInfo:(e,t)=>{this.setState({formInfo:e},t)},setCRMConfigData:e=>{this.setState({crmConfigData:e})},setHelpdeskConfigData:e=>{this.setState({helpdeskConfigData:e})},setIsEditForm:e=>{this.setState({isEditForm:e})},setResultData:e=>{this.setState({resultData:e})},setMandatoryFields:e=>{this.setState({mandatoryFields:e})},setFieldCheck:e=>{this.setState({fieldCheck:e})},setMappingResult:e=>{this.setState({mappingResult:e})},setIsCRMConfigured:e=>{this.setState({isCRMConfigured:e})},setIsHelpdeskConfigured:e=>{this.setState({isHelpdeskConfigured:e})},setFormSettingsData:e=>{this.setState({formSettingsData:e})},setUserConfiguration:e=>{console.log("User Conf Set"),this.setState({userConfigurationStatus:e})},setWoocommerceConfiguration:e=>{this.setState({woocommerceConfigurationstatus:e})},setDataBucketFormList:e=>{this.setState({dataBucketFormList:e})},setSelectedDataBucketFormDetails:e=>{this.setState({selectedDataBucketFormDetails:e})},setCartProductLists:e=>{console.log("Cart Lists",e),this.setState({cartProductLists:e})},setMarketPlaceArray:e=>{this.setState({marketPlaceArray:e})},setBackupMarketPlaceArray:e=>{this.setState({backupMarketPlaceArray:e})},setSelectedAddons:e=>{this.setState({selectedAddons:e})},setSearchedText:e=>{this.setState({searchedText:e})},setDomainName:e=>{this.setState({domainName:e})},setaddtocart:e=>{this.setState({addtoCart:e})},setLicenseActivated:e=>{this.setState({licenseActivated:e})},setAddonSlug:e=>{this.setState({addonSlug:e})},setInstalledAddons:e=>{this.setState({installedAddons:e})},setLanguage:e=>{this.setState({language:e})},setShowLicenseTab:e=>{this.setState({showLicenseTab:e})},setShowLicenseDetailsTab:e=>{this.setState({showLicenseDetailsTab:e})}})}render(){return l.a.createElement(i.a.Provider,{value:this.state},this.props.children)}}},218:function(e,t,a){"use strict";var s=a(0),n=a.n(s),o=a(10),l=a(6),i=a.n(l),c=a(8),r=a.n(c),d=a(31),m=a.n(d),u=a(94),h=a(32);function p(){const e=m()(["\n    font-size: 1rem;\n    padding: 8px 20px;\n    line-height: 1.5em;\n    font-weight: 600;\n    text-transform: uppercase;\n    -webkit-transition: all 200ms ease;\n    -moz-transition: all 200ms ease;\n    -ms-transition: all 200ms ease;\n    -o-transition: all 200ms ease;\n    transition: all 200ms ease;\n    font-family: 'Poppins', sans-serif;\n    border: none;\n    cursor: pointer;\n    border-radius: 6px;\n    background: #ffffff;\n    border: 1px solid #a0aec0;\n    color: #4a5568;\n    &:hover {\n        background-color: #e2e8f0;\n    }\n"]);return p=function(){return e},e}function g(){const e=m()(["\n    font-size: 16px;\n"]);return g=function(){return e},e}function f(){const e=m()(["\n    font-size: 30px;\n    font-family: 'Poppins';\n    font-weight: 500;\n    margin-bottom: 0;\n"]);return f=function(){return e},e}function y(){const e=m()(["\n  font-size: 1rem;\n  padding: 8px 20px;\n  line-height: 1.5em;\n  font-weight: 600;\n  text-transform: uppercase;\n  -webkit-transition: all 200ms ease;\n  -moz-transition: all 200ms ease;\n  -ms-transition: all 200ms ease;\n  -o-transition: all 200ms ease;\n  transition: all 200ms ease;\n  font-family: 'Poppins', sans-serif;\n  border: none;\n  cursor: pointer;\n  border-radius: 6px;\n  background-color: #00a699;\n    border-color: #00a699;\n    color: #ffffff;\n    margin-left:10px;\n}\n"]);return y=function(){return e},e}function b(){const e=m()(["\n    display: flex;\n    margin-top: 30px;\n"]);return b=function(){return e},e}function E(){const e=m()(["\n    padding: 50px;\n    background: white;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n    border-radius: 6px;\n"]);return E=function(){return e},e}const v=e=>{if(void 0!==e&&e.length>0){const t=[];for(let a=0;a<e.length;a++){const s={value:"",label:""};s.value=e[a],s.label=e[a],t.push(s)}return t}},x=e=>{var t={};return e.forEach(function(e,a){t[a]=e}),t},C=(e,t)=>{for(var a=t.split(e),s={},n=0;n<a.length;n++){var o=a[n].split("="),l=decodeURIComponent(o[0]),i=decodeURIComponent(o[1]);if(void 0===s[l])s[l]=decodeURIComponent(i);else if("string"==typeof s[l]){var c=[s[l],decodeURIComponent(i)];s[l]=c}else s[l].push(decodeURIComponent(i))}return s},w=async(e="",t,a,s,n,o)=>{var l=new FormData;l.set("action","wpulb_save_configuration"),l.set("api_endpoint_url",e),l.set("username",t),l.set("password",a),l.set("addon_slug",s),l.set("addon_type",n);try{o(await r()({method:"post",url:ajaxurl,data:l,config:{headers:{"Content-Type":"multipart/form-data"}}}))}catch(e){console.log(e)}},_=async(e="",t,a,s,n,o,l="")=>{var i=new FormData;i.set("action","wpulb_save_help_configuration"),i.set("zohosupport"===s?"org_id":"domain_url",e),"zohosupport"===s&&i.set("domain",l),i.set("username",t),i.set("password",a),i.set("addon_slug",s),i.set("addon_type",n);try{o(await r()({method:"post",url:ajaxurl,data:i,config:{headers:{"Content-Type":"multipart/form-data"}}}))}catch(e){console.log(e)}},k=(e,t,a,s)=>{Object(u.confirmAlert)({customUI:({onClose:o})=>n.a.createElement(F,null,n.a.createElement(T,null,"Are you sure?"),n.a.createElement(R,null,s),n.a.createElement(L,null,n.a.createElement(M,{onClick:o},"Not Now"),n.a.createElement(D,{onClick:()=>{a(e,t),o()}},"Yes, Delete it!")))})},N=(e,t,a=!1)=>{Object(u.confirmAlert)({customUI:({onClose:s})=>n.a.createElement(F,null,n.a.createElement(T,null,"Are you sure?"),n.a.createElement(R,null,t),n.a.createElement(L,null,n.a.createElement(M,{onClick:s},"Not Now"),n.a.createElement(D,{onClick:()=>{(async(e,t)=>{var a=new FormData;a.set("action",t?"wpulb_delete_help_config_data":"wpulb_delete_crm_config_data");try{e(await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}))}catch(e){console.log(e)}})(e,a),s()}},"Yes, Reset it!")))})},S=e=>{for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},F=h.a.div(E()),L=h.a.div(b()),D=h.a.button(y()),T=h.a.h1(f()),R=h.a.p(g()),M=h.a.button(p());var P=a(3),A=a(83),O=a.n(A),j=a(28),B=a.n(j);class V extends s.Component{constructor(...e){super(...e),i()(this,"state",{loading:!1,formList:[],pageCount:0,pageNumber:1,isThirdPartyForm:!1}),i()(this,"handlePageClick",e=>{let t=e.selected;console.log(t+1),this.fetchFormList(t+1)})}componentDidMount(){this.fetchFormList(1),this.context.setIsEditForm(!1),this.context.setSwitchFormComponent("step1")}async editForm(e){console.log(e);var t=new FormData;t.set("action","wpulb_edit_form"),t.set("form_id",e.form_id),t.set("form_type",e.form_type),t.set("shortcode",e.shortcode_name),t.set("crm_type",e.crm_type);try{const a=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log("single form",a),a&&a.data&&a.data.success&&200==a.data.status){const t=a.data.response;if(this.context.setFormInfo({...this.context.formInfo,formType:t.formType,syncType:t.syncType,shortcode:e.shortcode_name,syncTypeValue:e.crm_type}),this.context.setIsEditForm(!0),this.context.setResultData(t.crm_details),"DEFAULT_FORM"===t.formType.value)return this.fieldList=[],this.mandatoryFields=[],this.fieldCheck={},t.fields_by_grouping.map(e=>{e.field_group.map(e=>{const t={value:"",label:""};t.value=e.field_name,t.label=e.field_label,this.fieldList.push(t);const a={value:"",label:""};e.mandatory&&(a.value=e.field_name,a.label=e.field_label,this.mandatoryFields.push(a)),e.is_enabled&&(this.fieldCheck["".concat(e.field_name)]=!0)})}),this.context.setMandatoryFields(this.mandatoryFields),this.context.setFieldCheck(this.fieldCheck),void this.context.setDefaultFormFields({...this.context.defaultFormfields,mandatoryFieldsList:this.fieldList,defaultFormResult:t.fields_by_grouping},()=>{this.context.setShowComponent("add-form")});this.context.setShowComponent("add-form")}}catch(e){console.error(e)}}async deleteForm(e,t){var a=new FormData;a.set("action","wpulb_delete_form"),a.set("form_type",e.form_type),a.set("shortcode",e.shortcode_name),a.set("form_id",e.form_id);try{const e=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log(e),e&&e.data)return void(e.data.success&&200==e.data.status?(P.b.success(e.data.message),this.state.formList.splice(t,1),this.setState({formList:this.state.formList})):P.b.error(e.data.message))}catch(e){console.log(e)}}async fetchFormList(e){console.log("page-no",e),this.setState({loading:!0});try{var t=new FormData;t.set("action","wpulb_get_form_list"),t.set("cpage",e);const a=await r.a.get(ajaxurl,{params:x(t)});this.setState({loading:!1}),a&&a.data&&(a.data.success&&200==a.data.status&&(console.log("formList",a.data),this.setState({formList:a.data.response.forms,pageCount:a.data.response.total_page,isThirdPartyForm:a.data.response.is_thirdparty_form})),""!==a.data.message&&P.b.info(a.data.message),""!==a.data.migration_alert&&P.b.info(a.data.migration_alert))}catch(e){console.error(e)}}render(){return n.a.createElement("div",{className:"container tab-containers"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-12 mt30"},n.a.createElement("div",{className:"row m0 mb30"},n.a.createElement("div",{className:"d-flex w-100 justify-content-end"},this.state.isThirdPartyForm?"":n.a.createElement(B.a,{id:"global1","aria-haspopup":"true",role:"example"},n.a.createElement("div",null,n.a.createElement("p",null,"Kindly install any of the third party plugins to enable this button"))),n.a.createElement("a",{"data-tip":!0,"data-for":"global1"},n.a.createElement("button",{className:"btn btn-primary",disabled:!this.state.isThirdPartyForm,"data-tip":!0,"data-for":"global1",onClick:()=>{this.context.setShowComponent("add-form"),this.context.setFormInfo({...this.context.formInfo,formType:"",syncType:"DATA_BUCKET_ONLY"})}},n.a.createElement("i",{className:"icon-plus mr10","data-tip":!0,"data-for":"global1"}),this.context.language.AddFormforSync))))),n.a.createElement("div",{className:"col-md-12 px-0"},n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"pl-4"},this.context.language.SHORTCODETITLE),n.a.createElement("th",null,this.context.language.FORMTYPE),n.a.createElement("th",null,this.context.language.MAPPING),n.a.createElement("th",{className:"text-center"},this.context.language.ACTIONS))),n.a.createElement("tbody",null,this.state.loading?n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4",style:{height:"60px"},className:"text-center"}," ",this.context.loaderText," ")):0!=this.state.formList.length?this.state.formList.map((e,t)=>n.a.createElement("tr",null,n.a.createElement("td",{className:"pl-4"},e.shortcode_name),n.a.createElement("td",null,e.formType),n.a.createElement("td",null,e.sync_to),n.a.createElement("td",{className:"text-center"},n.a.createElement("a",{"data-toggle":"tooltip","data-placement":"top","tooltip-title":"Edit",onClick:()=>{this.editForm(e)}},n.a.createElement("i",{className:"icon-edit","aria-hidden":"true"})),"Default Form"==e.formType?n.a.createElement(B.a,{id:"global","aria-haspopup":"true",role:"example"},n.a.createElement("div",null,n.a.createElement("p",null,"Delete action is disabled for default forms"))):"","Default Form"!==e.formType?n.a.createElement(B.a,{id:"global2","aria-haspopup":"true",role:"example"},n.a.createElement("div",null,n.a.createElement("p",null,"Delete"))):"",n.a.createElement("a",{"data-tip":!0,"data-for":"Default Form"==e.formType?"global":"global2",onClick:a=>{"Default Form"!==e.formType&&k(e,t,this.deleteForm.bind(this),n.a.createElement("div",null,"You want to delete the Form"))}},n.a.createElement("i",{className:"icon-trash text-danger","aria-hidden":"true",style:{opacity:"Default Form"==e.formType?.3:1}}))))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"4",className:"text-center text-danger"},"No Forms Found"))))),n.a.createElement(n.a.Fragment,null,this.state.pageCount>1?n.a.createElement(O.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}):""))))}}function I(){return n.a.createElement(V,null)}i()(V,"contextType",o.a);var W=a(12);function U(e){const t=Object(s.useContext)(o.a),{mandatoryFields:a}=t;return n.a.createElement("div",{className:"leads-native-form"},n.a.createElement("h2",{className:"secondary-heading  my-2"},e.number?n.a.createElement("span",{className:"numbers"},e.number):"",e.title),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Mandatory Fields"),n.a.createElement(W.a,{defaultValue:a,isMulti:!0,name:"mandatoryFields",theme:e=>({...e,backgroundColor:"#333",borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),options:t.defaultFormFields.mandatoryFieldsList,className:"basic-multi-select select",classNamePrefix:"select",onChange:t=>{e.setMandatory(t)}})),n.a.createElement("div",{className:"form-group fieldset-height"},""!=t.defaultFormFields.defaultFormResult?t.defaultFormFields.defaultFormResult.map((t,a)=>n.a.createElement("div",{className:"fieldset"},n.a.createElement("h2",null,t.group_name),""!=t.field_group?n.a.createElement("div",{className:"leads-builder-crm-fields"},t.field_group.map((t,a)=>n.a.createElement("div",{className:"leads-builder-crm-field checkbox ".concat(e.checkMandatory(t.field_name))},n.a.createElement("input",{type:"checkbox",checked:e.fieldCheck["".concat(t.field_name)],id:"".concat(t.field_name,"_").concat(t.group_id),onClick:a=>{e.handleCheck(a,t.field_name)}}),n.a.createElement("label",{htmlFor:"".concat(t.field_name,"_").concat(t.group_id)},t.field_label)))):"")):n.a.createElement("p",null,"No Fields Found")))}var H=a(162),K=a(215),q=a.n(K);function z(){const e=m()(["\n\tmargin: 0;\n\tpadding: 3px 10px;\n\tborder-radius: 6px;\n\ttext-transform: uppercase;\n\tfont-weight: 500;\n\tbackground: #e2e8f0;\n\tcolor: #2d3748;\n"]);return z=function(){return e},e}function G(){const e=m()(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 10px 20px;\n\tborder-radius: 6px;\n\talign-items: center;\n\tmargin-bottom: 20px;\n\tlist-style: none;\n\tborder: 1px solid #edf2f7;\n\tbackground: #f7fafc;\n\tcursor: move;\n"]);return G=function(){return e},e}const Y=h.a.li(G()),$=h.a.p(z()),J={fontSize:"1.25rem",margin:0,color:"#2d3748"},Z=Object(H.b)(({value:e})=>n.a.createElement(Y,null,n.a.createElement("h3",{style:J},n.a.createElement("i",{className:"fa fa-arrows","aria-hidden":"true"}),e.value),n.a.createElement($,null,"Type : ",e.type))),Q=Object(H.a)(({items:e})=>n.a.createElement("ul",{className:"fieldSortable"},0!=e.length?e.map((e,t)=>n.a.createElement(Z,{key:"item-".concat(e.value),index:t,value:e})):""));class X extends s.Component{constructor(e){super(e),i()(this,"onSortEnd",({oldIndex:e,newIndex:t})=>{this.setState(({items:a})=>({items:q()(a,e,t)}))}),this.state={items:[],btnLoading:!1}}getAsObject(e){const t={};return e.map(e=>{t[e.value]=!0}),t}componentDidMount(){this.setState({items:this.props.fields})}async saveForm(){console.log("shortcode",this.context.formInfo.shortcode),console.log("fieldCheck",this.getAsObject(this.state.items)),console.log("formType",this.context.formInfo.formType),this.setState({btnLoading:!0});var e=new FormData;e.set("action","wpulb_save_native_form_mapping"),e.set("enabled_fields",JSON.stringify(this.getAsObject(this.state.items))),e.set("form_type",this.context.formInfo.formType.value),e.set("shortcode",this.context.formInfo.shortcode),e.set("edit",this.context.isEditForm?"true":"false");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});if(this.setState({btnLoading:!1}),console.log(t),t&&t.data)return void(200==t.data.status&&t.data.success?(P.b.success(t.data.message),this.context.setShowComponent("form-manage"),this.context.setSwitchFormComponent("step1")):P.b.error(t.data.message));console.log("data not found")}catch(e){console.log(e)}}async showFormMapping(){const{isEditForm:e,resultData:t}=this.context;var a=new FormData;a.set("action",e?"wpulb_edit_form_mapping":"wpulb_show_mapping_section"),a.set("form_type",this.context.formInfo.formType.value),a.set("shortcode",this.context.formInfo.shortcode),a.set("sync_to",this.context.formInfo.syncType),a.set("enabled_fields",JSON.stringify(this.getAsObject(this.state.items)));try{const t=await r.a.get(ajaxurl,{params:x(a)});if(t&&t.data){if(200==t.data.status&&t.data.success){const a=t.data.response;return console.log("mapping",a.mapping_fields),e&&this.context.setMappingResult(a.mapping_fields),this.context.setMappingFields({...this.context.mappingFields,thirdPartyFields:a.form_fields,localFields:a.data_bucket_fields,addonFields:a.addon_fields},()=>{this.setState({btnLoading:!1}),this.context.setSwitchFormComponent("step3")}),void console.log(t)}P.b.info(t.data.message)}P.b.info("data not found")}catch(e){console.log(e)}}render(){const{syncType:e}=this.context.formInfo,t=!!this.state.btnLoading&&"disabled",{isEditForm:a}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"d-flex w-100 px-4 mb-4 justify-content-between align-items-center"},n.a.createElement("h2",{className:"secondary-heading my-2"},n.a.createElement("span",{className:"numbers"},"CRM"===e?5:4),"Form Fields"),n.a.createElement("p",{className:"text-gray-100 mb0"},"(Drag to Reorder)")),n.a.createElement(Q,{items:this.state.items,onSortEnd:this.onSortEnd}),n.a.createElement("hr",null),n.a.createElement("div",{className:"d-flex justify-content-between mt-3 m-4"},n.a.createElement("button",{className:"btn btn-default",onClick:()=>{this.context.setSwitchFormComponent("step4")}},this.context.language.Back),n.a.createElement("div",null,"DATA_BUCKET_ONLY"===e?n.a.createElement("button",{className:"btn btn-primary",disabled:t,onClick:()=>{this.saveForm()}},this.state.btnLoading?this.context.btnLoader:a?"Update Form":"Save Form"):n.a.createElement("button",{className:"btn btn-primary",disabled:t,onClick:()=>{this.showFormMapping(),this.setState({btnLoading:!0})}},this.state.btnLoading?this.context.btnLoader:"Show Mapping"))))}}i()(X,"contextType",o.a);class ee extends s.Component{constructor(e){super(e),i()(this,"editMappingResult",(e,t,a)=>{const{mappingResult:s,isEditForm:n}=this.context,o=s[a];if(n&&!this.preventMapping&&o){if(this.state.mappingResult.hasOwnProperty(a)){var l=!1;this.state.mappingResult[a].hasOwnProperty(e)||(l=!0)}else l=!0;if(o.length>0)return""!==o[t].label?(l&&(this.state.mappingResult[a]?this.state.mappingResult[a][e]=s[a][t]:(this.state.mappingResult[a]={},this.state.mappingResult[a][e]=s[a][t])),this.checkValue=!0,o[t]):void(this.checkValue=!0)}}),this.state={btnLoading:!1,mappingResult:{},toShowMandatoryLabel:[]},this.tempResult={},this.checkValue=!1,this.preventMapping=!1}componentDidMount(){this.checkValue=!0}updateMappingData(e,t,a){var s=this.state.mappingResult[a];""===e||null==e?(console.log("delete",s[t]),console.log("delete"+this.state.mappingResult[a][t]),delete s[t],console.log("delete",s),this.state.mappingResult[a]=s,console.log(this.state.mappingResult)):s?this.state.mappingResult[a][t]=e:(this.state.mappingResult[a]={},this.state.mappingResult[a][t]=e)}filter(e){let t,a;var s=[];for(t=0;t<this.context.mappingFields.addonFields.length;t++)for(a=0;a<e.length;a++)e[a]===this.context.mappingFields.addonFields[t].value&&s.push(this.context.mappingFields.addonFields[t].label);return s}async saveFinalMapping(){this.preventMapping=!0;let e=this.state.mappingResult.form_mapping;this.state.mappingResult.databucket_mapping;var t=[];let a=this.context.mappingFields.addonFields,s=[],n=[],o=this.state.mappingResult.hasOwnProperty("form_mapping");for(let e=0;e<a.length;e++)a[e].mandatory&&s.push(a[e].value);if(console.log(s),o)for(let a=0;a<s.length;a++)if(S(e))for(let e=0;e<s.length;e++)t.push(s[e]);else for(var l in e)e.hasOwnProperty(s[a])||t.push(s[a]);else for(let e=0;e<s.length;e++)t.push(s[e]);console.log(t);var i=t.filter(function(e,t,a){return a.indexOf(e)===t});n=this.filter(i),console.log(n),this.setState({toShowMandatoryLabel:n},()=>{console.log(this.state.toShowMandatoryLabel.length),this.state.toShowMandatoryLabel.length>0?document.getElementById("to_show_info").click():this.saveThirdPartyMapping()})}async saveThirdPartyMapping(){console.log("form_type",this.context.formInfo.formType),console.log("shortcode",this.context.formInfo.shortcode),console.log("mappingResult",this.state.mappingResult);var e=new FormData;e.set("action","wpulb_save_thirdparty_form_mapping"),e.set("form_type",this.context.formInfo.formType.value),e.set("shortcode",this.context.formInfo.shortcode),"DEFAULT_FORM"!==this.context.formInfo.formType.value&&e.set("form_id",this.props.activeForm.value),e.set("sync_to",this.context.formInfo.syncType),e.set("mappingResult",JSON.stringify(this.state.mappingResult)),this.setState({btnLoading:!0});try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});if(this.setState({btnLoading:!1}),console.log("mapping Response",t),t&&t.data)return void(200==t.data.status&&t.data.success?(P.b.success(t.data.message),this.context.setShowComponent("form-manage"),this.context.setSwitchFormComponent("step1")):P.b.error(t.data.message));console.log("data not found")}catch(e){console.log(e)}}render(){const e=this.props.syncType,{isEditForm:t}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row justify-content-center px-0"},n.a.createElement("div",{className:"col-md-10 mt-4"},n.a.createElement("table",{className:"table table-mapping"},n.a.createElement("thead",null,n.a.createElement("tr",null,"DATA_BUCKET_ONLY"!==e?n.a.createElement("th",null,"Addon Field"):n.a.createElement("th",null,"Databucket Field"),"DATA_BUCKET_ONLY"!==e?n.a.createElement("th",null,"Databucket Field"):"",n.a.createElement("th",null,"Form Field"))),n.a.createElement("tbody",null,0!=this.context.mappingFields.addonFields.length?this.context.mappingFields.addonFields.map((t,a)=>n.a.createElement("tr",null,n.a.createElement("td",{style:{width:"30%"}},n.a.createElement("label",{className:"wpfields"},t.label,t.mandatory?n.a.createElement("span",{style:{color:"rgb(253, 0, 0)"}},"*"):"")),"DATA_BUCKET_ONLY"!==e?n.a.createElement("td",{style:{width:"35%"}},n.a.createElement(W.a,{className:"select",name:"activeForm",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isClearable:!0,defaultValue:this.editMappingResult(t.value,a,"databucket_mapping"),onChange:e=>{this.updateMappingData(e,t.value,"databucket_mapping")},options:this.context.mappingFields.localFields})):"",n.a.createElement("td",{style:{width:"35%"}},n.a.createElement(W.a,{className:"select",name:"addonFields",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isClearable:!0,defaultValue:this.editMappingResult(t.value,a,"form_mapping"),onChange:e=>{this.updateMappingData(e,t.value,"form_mapping")},options:this.context.mappingFields.thirdPartyFields})))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"3",className:"text-danger text-center"}," ","No Fields Found")))),n.a.createElement("hr",null),n.a.createElement("div",{className:"d-flex justify-content-between mt-3"},n.a.createElement("button",{className:"btn btn-default",onClick:()=>"DEFAULT_FORM"!==this.context.formInfo.formType.value?this.context.setSwitchFormComponent("step1"):"CRM"===this.context.formInfo.syncType||"HELPDESK"===this.context.formInfo.syncType?this.context.setSwitchFormComponent("step2"):""},this.context.language.Back),n.a.createElement("button",{className:"btn btn-primary",onClick:()=>{this.saveFinalMapping()}},this.state.btnLoading?this.context.btnLoader:t?"Update Form":"Save Form"))),n.a.createElement("a",{"data-toggle":"modal","data-target":"#info",id:"to_show_info"})),n.a.createElement("div",{className:"modal fade",id:"info"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h2",{className:"main-heading"},"Please Fill The Form Fields For"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement(n.a.Fragment,null,0!==this.state.toShowMandatoryLabel.length?this.state.toShowMandatoryLabel.map(e=>n.a.createElement("div",null,n.a.createElement("label",null,e))):"")))))))}}i()(ee,"contextType",o.a);class te extends s.Component{constructor(e){super(e),this.state={formType:[],thirdPartyFormType:[],errorMsg:"",successMsg:"",redirection:!1,redirectionURL:"",captcha:!1,formTitle:"",captcha_enabled:""},this.enableRedirection=!1,this.count=0}componentDidMount(){console.log("context",this.context.formSettingsData),this.context.formSettingsData.hasOwnProperty("already_configured")?(console.log("if"),this.setState({formType:this.context.formSettingsData.already_configured.form_type,thirdPartyFormType:this.context.formSettingsData.already_configured.form,errorMsg:this.context.formSettingsData.already_configured.error_message,successMsg:this.context.formSettingsData.already_configured.success_message,redirectionURL:this.context.formSettingsData.already_configured.redirection,captcha:this.context.formSettingsData.already_configured.captcha,formTitle:this.context.formSettingsData.already_configured.title,captcha_enabled:this.context.formSettingsData.captcha_enabled})):this.setState({formType:this.context.formSettingsData.form_type,thirdPartyFormType:this.context.formSettingsData.third_party_forms,captcha_enabled:this.context.formSettingsData.captcha_enabled})}async saveForm(){var e=new FormData;e.set("action","wpulb_default_form_settings"),e.set("form_type",this.state.formType.value?this.state.formType.value:""),e.set("error_message",this.state.errorMsg),e.set("success_message",this.state.successMsg),e.set("redirection",this.state.redirection?this.state.redirectionURL:""),e.set("captcha",this.state.captcha),e.set("form",this.state.thirdPartyFormType.value?this.state.thirdPartyFormType.value:""),e.set("title",this.state.formTitle),e.set("shortcode",this.context.formInfo.shortcode);try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),this.props.setSortableField(t.data.response.forms),this.context.setSwitchFormComponent("step2")}catch(e){console.log(e)}}checkGoogleCaptcha(){this.state.captcha_enabled?this.setState({captcha:event.target.checked},()=>{console.log("captcha",this.state.captcha)}):P.b.info("First please update Google Captcha Credential in Default Form Settings Page")}render(){const{syncType:e}=this.context.formInfo,{formType:t,thirdPartyFormType:a,errorMsg:s,successMsg:o,redirection:l,captcha:i,formTitle:c,redirectionURL:r,alreadyConfigured:d,captcha_enabled:m}=this.state;return n.a.createElement(n.a.Fragment,null,n.a.createElement(B.a,{id:"soclose",getContent:e=>n.a.createElement("div",{style:{maxWidth:"150px"}},n.a.createElement("p",null,e)),effect:"solid",delayHide:500,delayShow:500,delayUpdate:500,place:"right",border:!0,type:"dark"}),n.a.createElement("div",{className:"formsetting px-5 my-3"},n.a.createElement("div",{className:"row my-2"},n.a.createElement("h2",{className:"secondary-heading my-2"},n.a.createElement("span",{className:"numbers"},"CRM"===e?4:3),"Form Settings")),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("label",null,this.context.language.FORMTYPE),n.a.createElement("div",{className:"d-flex"},n.a.createElement(W.a,{className:"w-100 select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),options:this.context.formSettingsData.form_type,onChange:e=>this.setState({formType:e},()=>{console.log("formType",this.state.formType)}),defaultValue:t,value:t}),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})))),n.a.createElement("hr",null),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("label",null,"Error Message Submission"),n.a.createElement("div",{className:"d-flex"},n.a.createElement("input",{type:"text",className:"form-control mb-4",onChange:e=>this.setState({errorMsg:e.target.value},()=>{console.log("errorMsg",this.state.errorMsg)}),defaultValue:s,placeholder:"Error Message Submission"}),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})),n.a.createElement("label",null,"Success Message Submission"),n.a.createElement("div",{className:"d-flex"},n.a.createElement("input",{type:"text",id:"success_message",className:"form-control",value:o,onChange:e=>this.setState({successMsg:e.target.value},()=>{console.log("successMsg",this.state.successMsg)}),defaultValue:o,placeholder:"Success Message Submission"}),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})))),n.a.createElement("hr",null),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{class:"form-group fieldset-ios notify-head pt10 mb-0"},n.a.createElement("label",{for:"enable"},"Enable URL Redirection"),n.a.createElement("input",{type:"checkbox",class:"ios-switch",id:"enable",onClick:e=>{this.setState({redirection:e.target.checked},()=>{console.log("redirection",this.state.redirection),""==this.state.redirectionURL||this.state.redirection||0!=this.count?this.state.redirection?(console.log("true"),this.enableRedirection=!0,this.forceUpdate()):(console.log("false"),this.enableRedirection=!1,this.forceUpdate()):(console.log("true count"),this.count=this.count+1,this.enableRedirection=!0,this.forceUpdate()),this.enableRedirection=this.state.redirection})},checked:""!=this.state.redirectionURL&&!this.state.redirection&&0==this.count||this.enableRedirection}),n.a.createElement("label",{class:"switch-ios switch-check mt10",for:"enable"},n.a.createElement("i",null)),""!=this.state.redirectionURL&&!this.state.redirection&&0==this.count||this.enableRedirection?n.a.createElement(n.a.Fragment,null,n.a.createElement(B.a,{id:"soclose",getContent:e=>n.a.createElement("div",{style:{maxWidth:"150px"}},n.a.createElement("p",null,e)),effect:"solid",delayHide:500,delayShow:500,delayUpdate:500,place:"right",border:!0,type:"dark"}),n.a.createElement("div",{className:"my-3"},n.a.createElement("label",{className:"mb-2"},"Enter Redirect URL"),n.a.createElement("div",{className:"d-flex"},n.a.createElement("input",{type:"text",id:"url_redirect",className:"form-control",value:r,onChange:e=>this.setState({redirectionURL:e.target.value},()=>{}),defaultValue:r,placeholder:"Enter Redirect URL"}),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Lorem Ipsum is simply dummy text of the printing and typesetting industry"})))):""),n.a.createElement("div",{class:"form-group fieldset-ios notify-head pt10 mb-0"},n.a.createElement("label",{for:"enablecaptcha"},"Enable Google Captcha"),n.a.createElement("input",{type:"checkbox",class:"ios-switch",id:"enablecaptcha",onChange:()=>this.checkGoogleCaptcha(),checked:i}),n.a.createElement("label",{class:"switch-ios switch-check mt10",for:"enablecaptcha"},n.a.createElement("i",null))))),n.a.createElement("div",{className:"row my-4 justify-content-between"},n.a.createElement("button",{type:"button",className:"btn btn-default",onClick:()=>this.context.setSwitchFormComponent("step1")},this.context.language.Back),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:()=>this.saveForm()},"Continue"))))}}function ae(){const e=m()(["\n    font-size: 1rem;\n    padding: 8px 20px;\n    line-height: 1.5em;\n    font-weight: 600;\n    text-transform: uppercase;\n    -webkit-transition: all 200ms ease;\n    -moz-transition: all 200ms ease;\n    -ms-transition: all 200ms ease;\n    -o-transition: all 200ms ease;\n    transition: all 200ms ease;\n    font-family: 'Poppins', sans-serif;\n    border: none;\n    cursor: pointer;\n    border-radius: 6px;\n    background: #ffffff;\n    border: 1px solid #a0aec0;\n    color: #4a5568;\n    &:hover {\n        background-color: #e2e8f0;\n    }\n"]);return ae=function(){return e},e}function se(){const e=m()(["\n    font-size: 16px;\n"]);return se=function(){return e},e}function ne(){const e=m()(["\n    font-size: 30px;\n    font-family: 'Poppins';\n    font-weight: 500;\n    margin-bottom: 0;\n"]);return ne=function(){return e},e}function oe(){const e=m()(["\n  font-size: 1rem;\n  padding: 8px 20px;\n  line-height: 1.5em;\n  font-weight: 600;\n  text-transform: uppercase;\n  -webkit-transition: all 200ms ease;\n  -moz-transition: all 200ms ease;\n  -ms-transition: all 200ms ease;\n  -o-transition: all 200ms ease;\n  transition: all 200ms ease;\n  font-family: 'Poppins', sans-serif;\n  border: none;\n  cursor: pointer;\n  border-radius: 6px;\n  background-color: #00a699;\n    border-color: #00a699;\n    color: #ffffff;\n    margin-left:10px;\n}\n"]);return oe=function(){return e},e}function le(){const e=m()(["\n    padding: 50px;\n    background: white;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n    border-radius: 6px;\n"]);return le=function(){return e},e}i()(te,"contextType",o.a);class ie extends s.Component{constructor(e){super(e),this.state={loading:!1,btnLoading:!1,formTypeList:[],formType:"",defaultFormResult:[],mandatoryFields:[],fieldCheck:{},thirdPartyFormsList:[],syncType:"DATA_BUCKET_ONLY",active_forms:[],modules:[],duplicate_handling_options:[],record_owner_options:[],resultData:{activeForm:[],module:[],duplicateOption:[],recordOwner:[]},sortableFields:[]},this.fieldList=[]}componentDidMount(){this.fetchFormType(),""!==this.context.formInfo.formType&&""!==this.context.formInfo.syncType&&(this.setState({loading:!0}),this.fetchFormDetails()),this.context.isEditForm&&this.setState({fieldCheck:this.context.fieldCheck}),this.context.isEditForm||this.resetEditData()}resetEditData(){this.context.setResultData({activeForm:[],module:[],duplicateOption:[],recordOwner:[]}),this.context.setMandatoryFields("")}async fetchFormType(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_show_create_form_step1"}});e&&e.data&&200==e.data.status&&e.data.success&&(console.log("formtype",e.data),this.setState({formTypeList:e.data.response.forms}),this.context.isEditForm||this.context.setFormInfo({...this.context.formInfo,shortcode:e.data.response.shortcode}))}catch(e){console.error(e)}}async fetchFormDetails(){const{formInfo:e}=this.context;if(""!=e.formType){this.setState({loading:!0});try{const t=await r.a.get(ajaxurl,{params:{action:"wpulb_show_create_form_step2",form_type:e.formType.value,addon:e.syncType,shortcode:e.shortcode}});if(t&&t.data){if(200==t.data.status&&t.data.success){const{formType:e,syncType:a}=this.context.formInfo;"DEFAULT_FORM"===e.value&&(console.log("DATA DEFAULT",t.data),this.fieldList=[],t.data.response.fields_by_grouping.map(e=>{e.field_group.map(e=>{const t={value:"",label:""};t.value=e.field_name,t.label=e.field_label,this.fieldList.push(t)})}),this.context.isEditForm||this.context.setDefaultFormFields({...this.context.defaultFormfields,mandatoryFieldsList:this.fieldList,defaultFormResult:t.data.response.fields_by_grouping},()=>{this.setState({loading:!1})})),""!==a&&""!==e.value&&(console.log("first Form Resposnse",t.data),this.state.responseData=t.data.response,this.setState(t.data.response,()=>{console.log("State updated Result",this.state),this.setState({loading:!1})}))}return void(t.data.success||P.b.info(t.data.message))}P.b.error("Data Not Found")}catch(e){console.error(e)}}else P.b.error("Please Choose any one Form Type")}handleCheck(e="",t,a=!1){a?this.state.fieldCheck[t]=!0:e.target.checked?this.state.fieldCheck[t]=!0:delete this.state.fieldCheck[t],a||this.setState({fieldCheck:this.state.fieldCheck},()=>{console.log(this.state.fieldCheck)})}handleChange(e,t){console.log(e,t),this.context.resultData[t.name]=e,this.context.setResultData(this.context.resultData),console.log("resultData",this.context.resultData)}async showFormMapping(){const{resultData:e,isEditForm:t}=this.context,{formType:a,syncType:s,shortcode:n,syncTypeValue:o}=this.context.formInfo;console.log("isEditForm",t),console.log("shortcode",n),console.log("formType",a.value),console.log("sync_to",s),console.log("form_id",e.activeForm.value);var l=new FormData;l.set("action",t?"wpulb_edit_form_mapping":"wpulb_show_mapping_section"),l.set("shortcode",n),l.set("form_type",a.value),l.set("sync_to",s),a.value&&"DEFAULT_FORM"!==a.value&&l.set("form_id",e.activeForm.value),!a.value||"CRM"!==s&&"HELPDESK"!==s||(l.set("module",e.module.value),l.set("duplicate_handling",e.duplicateOption.value),l.set("record_owner",e.recordOwner.value)),this.setState({btnLoading:!0});try{const e=await r.a.get(ajaxurl,{params:x(l)});if(this.setState({btnLoading:!1}),e&&e.data){if(200==e.data.status&&e.data.success){const a=e.data.response;return console.log("mapping",a),t&&this.context.setMappingResult(a.mapping_fields),void this.context.setMappingFields({...this.context.mappingFields,thirdPartyFields:a.form_fields,localFields:a.data_bucket_fields,addonFields:a.addon_fields},()=>{this.setState({loading:!1}),this.context.setSwitchFormComponent("step3")})}P.b.info(e.data.message)}P.b.info("Data not found")}catch(e){console.log(e)}}async showNativeFormSorting(){const{mandatoryFields:e,isEditForm:t}=this.context,{formType:a,shortcode:s}=this.context.formInfo,n={};let o=[];const l=Object.keys(this.state.fieldCheck);if(null!==e){for(let t=0;t<e.length;t++){n["".concat(e[t].value)]=!0;let a=!1;for(let s=0;s<l.length;s++)e[t].value===l[s]&&(a=!0);a||o.push(e[t].label)}if(o.length>0)return void this.showConfirmationForFields(o)}console.log("New mandatory Check2",e);var i=new FormData;i.set("action",t?"wpulb_edit_form_sorting":"wpulb_reorder_native_form_mapping"),i.set("mandatory_fields",JSON.stringify(n)),i.set("enabled_fields",JSON.stringify(this.state.fieldCheck)),i.set("form_type",a.value),i.set("shortcode",s),i.set("sync_to",this.context.formInfo.syncType),this.setState({btnLoading:!0});try{const e=await r()({method:"post",url:ajaxurl,data:i,config:{headers:{"Content-Type":"multipart/form-data"}}});this.setState({btnLoading:!1}),console.log("wpulb_reorder_native_form_mapping",e),e&&e.data&&200==e.data.status&&e.data.success&&(this.context.setFormSettingsData(e.data.response),this.context.setSwitchFormComponent("step4")),console.log("data not found")}catch(e){console.log(e)}}async showCRMDefaultFormSorting(){const{resultData:e,mandatoryFields:t,isEditForm:a}=this.context,s={};let n=[];const o=Object.keys(this.state.fieldCheck);for(let e=0;e<t.length;e++){s["".concat(t[e].value)]=!0;let a=!1;for(let s=0;s<o.length;s++)t[e].value===o[s]&&(a=!0);a||n.push(t[e].label)}if(n.length>0)this.showConfirmationForFields(n);else{console.log("form_type",this.context.formInfo.formType),console.log("shortcode",this.context.formInfo.shortcode),console.log("duplicate_handling",e.duplicateOption.value),console.log("record_owner",e.recordOwner.value),console.log("module ",e.module.value),console.log("mandatory_fields",s),console.log("enabled_fields",this.state.fieldCheck);var l=new FormData;l.set("action",a?"wpulb_edit_form_sorting":"wpulb_reorder_default_with_crm"),l.set("form_type",this.context.formInfo.formType.value),l.set("shortcode",this.context.formInfo.shortcode),l.set("sync_to",this.context.formInfo.syncType),l.set("duplicate_handling",e.duplicateOption.value),l.set("record_owner",e.recordOwner.value),l.set("module",e.module.value),l.set("mandatory_fields",JSON.stringify(s)),l.set("enabled_fields",JSON.stringify(this.state.fieldCheck)),this.setState({btnLoading:!0});try{const e=await r()({method:"post",url:ajaxurl,data:l,config:{headers:{"Content-Type":"multipart/form-data"}}});this.setState({btnLoading:!1}),console.log("wpulb_reorder_default_with_crm",e),e&&e.data&&200==e.data.status&&e.data.success&&(this.context.setFormSettingsData(e.data.response),this.context.setSwitchFormComponent("step4")),console.log("data not found")}catch(e){console.log(e)}}}setSortableField(e){this.setState({sortableFields:e})}setMandatory(e){this.context.setMandatoryFields(e),console.log(this.context.mandatoryFields)}checkMandatory(e){const{mandatoryFields:t}=this.context;if(t){for(let a=0;a<t.length;a++)if(t[a].value==e)return"mandatory";return""}}showConfirmationForFields(e){Object(u.confirmAlert)({customUI:({onClose:t})=>n.a.createElement(ce,null,n.a.createElement(de,null,"Choose Fields"),n.a.createElement(me,null,"Choose The Fields in Fields Section"),n.a.createElement("div",{class:"alert alert-warning",role:"alert"},n.a.createElement("ul",{className:"list-group"},e.map((e,t)=>n.a.createElement("li",{key:t,className:"list-group-item"},e)))),n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement(re,{onClick:()=>{t()}},"Ok")))})}setSyncType(e){this.setState({loading:!0},()=>{this.context.setFormInfo({...this.context.formInfo,syncType:e},()=>{this.fetchFormDetails(),console.log(this.context.formInfo)})})}render(){const{formType:e,syncType:t,shortcode:a}=this.context.formInfo,{switchFormComponent:s}=this.context,o=!!this.state.btnLoading&&"disabled";return n.a.createElement("div",{className:"container tab-containers"},"step1"===s?n.a.createElement("div",{className:"modal-body px-0"},n.a.createElement("div",{className:"row justify-content-center m0 addform"},n.a.createElement("div",{class:"col-md-10"},n.a.createElement("div",{class:"form-group"},n.a.createElement("h2",{className:"secondary-heading my-2"},n.a.createElement("span",{className:"numbers"},"1"),this.context.isEditForm?"Form Type":"Choose Form Type"),this.context.isEditForm?n.a.createElement("div",{className:"form-group col-md-8"},n.a.createElement("input",{className:"form-control",type:"text",id:"editedformType",name:"edited_form_type",placeholder:e.label,disabled:!0})):n.a.createElement(W.a,{className:"select",required:!0,control:(e,t)=>({...e,border:"0 !important",boxShadow:"0 !important","&:hover":{border:"0 !important"}}),theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),defaultValue:e,getOptionLabel:e=>n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("span",null,e.label)),onChange:e=>{this.context.setFormInfo({...this.context.formInfo,formType:e}),this.setState({loading:!0},()=>{this.fetchFormDetails(),console.log(this.context.formInfo)})},options:this.state.formTypeList,isOptionDisabled:e=>e.restrict})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"mt-2"},this.context.language.ChooseoptiontoSync),n.a.createElement("div",{className:"d-flex mt10"},n.a.createElement("div",{className:"form-check form-check-inline form-group synctype "+(this.context.checkAddons.crmAddons?"":"act")},n.a.createElement("input",{className:"form-check-input",onClick:e=>{this.setSyncType(e.target.value)},type:"radio",id:"crmRad",name:"sync_type",value:"CRM",checked:"CRM"===t})," ",n.a.createElement("label",{htmlFor:"crmRad",class:"form-check-label"},n.a.createElement("p",null,this.context.language.CRM),n.a.createElement("p",null,"+"),n.a.createElement("p",null,this.context.language.DataBucket))),n.a.createElement("div",{className:"form-check form-check-inline form-group synctype "+(this.context.checkAddons.helpdeskAddons?"":"act")},n.a.createElement("input",{className:"form-check-input",onClick:e=>{this.setSyncType(e.target.value)},type:"radio",id:"helpdeskRad",name:"sync_type",value:"HELPDESK",checked:"HELPDESK"===t})," ",n.a.createElement("label",{htmlFor:"helpdeskRad",className:"form-check-label"},n.a.createElement("p",null,this.context.language.Helpdesk),n.a.createElement("p",null,"+"),n.a.createElement("p",null,this.context.language.DataBucket))),n.a.createElement("div",{className:"form-check form-check-inline form-group synctype"},n.a.createElement("input",{className:"form-check-input",onClick:e=>{this.setSyncType(e.target.value)},type:"radio",id:"dataBucketRad",name:"sync_type",value:"DATA_BUCKET_ONLY",checked:"DATA_BUCKET_ONLY"===t})," ",n.a.createElement("label",{htmlFor:"dataBucketRad",className:"form-check-label"},n.a.createElement("p",null,this.context.language.DatabucketOnly))))))),n.a.createElement("hr",null),this.state.loading?n.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"200px"}},this.context.loaderText):n.a.createElement("div",{class:"row justify-content-center m0 "},n.a.createElement("div",{class:"col-md-10 mt-2"},"DATA_BUCKET_ONLY"===t?e.value&&"DEFAULT_FORM"===e.value?n.a.createElement(U,{number:2,checkMandatory:this.checkMandatory.bind(this),setMandatory:this.setMandatory.bind(this),handleCheck:this.handleCheck.bind(this),fieldCheck:this.state.fieldCheck,title:"Select the Form Fields"}):e.value&&""!==e.value?n.a.createElement("div",{className:"initial-form"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:!0,htmlFor:"activeForm"},"Choose Any One Of the Form"),n.a.createElement(W.a,{id:"activeForm",className:"select",isSearchable:!1,name:"activeForm",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),getOptionLabel:e=>n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("span",null,e.label)),defaultValue:this.context.resultData.activeForm,value:this.context.resultData.activeForm,onChange:(e,t)=>{this.handleChange(e,t)},options:this.state.active_forms,isOptionDisabled:e=>e.restrict}))):"":("CRM"===t||"HELPDESK"===t)&&e.value?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"initial-form"},n.a.createElement("h2",{className:"secondary-heading  my-2"},n.a.createElement("span",{className:"numbers"},"2")," Choose the Module with Lead Owner"),"DEFAULT_FORM"!==e.value?n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:!0,htmlFor:"activeForm"},"Choose Any One Of the Form"),n.a.createElement(W.a,{id:"activeForm",className:"select",name:"activeForm",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),styles:{control:e=>({...e,border:0,boxShadow:"none"}),input:()=>({"& input":{font:"inherit",border:"#ffffff"}})},getOptionLabel:e=>n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("span",null,e.label)),defaultValue:this.context.resultData.activeForm,value:this.context.resultData.activeForm,onChange:(e,t)=>{this.handleChange(e,t),document.getElementsByClassName("css-1g6gooi").style.visibility="hidden"},options:this.state.active_forms,isOptionDisabled:e=>e.restrict})):"",n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:!0,htmlFor:""},"Choose Your Module"),n.a.createElement(W.a,{name:"module",className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),defaultValue:this.context.resultData.module,value:this.context.resultData.module,onChange:(e,t)=>{this.handleChange(e,t)},options:this.state.modules})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:!0,htmlFor:!0},"Duplicate Handling"),n.a.createElement(W.a,{name:"duplicateOption",className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),getOptionLabel:e=>n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("span",null,e.label)),defaultValue:this.context.resultData.duplicateOption,value:this.context.resultData.duplicateOption,onChange:(e,t)=>{this.handleChange(e,t)},options:this.state.duplicate_handling_options,isOptionDisabled:e=>e.restrict})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:!0,htmlFor:!0},"Assign to Lead Owner"),n.a.createElement(W.a,{name:"recordOwner",className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),defaultValue:this.context.resultData.recordOwner,value:this.context.resultData.recordOwner,onChange:(e,t)=>{this.handleChange(e,t)},options:this.state.record_owner_options}))),"DEFAULT_FORM"===e.value?n.a.createElement(U,{number:3,checkMandatory:this.checkMandatory.bind(this),setMandatory:this.setMandatory.bind(this),handleCheck:this.handleCheck.bind(this),fieldCheck:this.state.fieldCheck,title:"Select the Form Fields"}):""):"",n.a.createElement("div",{className:"form-group d-flex justify-content-between"},n.a.createElement("button",{className:"btn btn-default",onClick:()=>{this.context.setShowComponent("form-manage")}},this.context.language.Back),n.a.createElement("div",null,e.value&&"DEFAULT_FORM"===e.value?"DATA_BUCKET_ONLY"===t?n.a.createElement("button",{className:"btn btn-primary",disabled:o,onClick:()=>{this.showNativeFormSorting()}}," ",this.state.btnLoading?this.context.btnLoader:"Continue"," "):n.a.createElement("button",{className:"btn btn-primary",disabled:o,onClick:()=>{"module"in this.context.resultData&&"duplicateOption"in this.context.resultData&&"recordOwner"in this.context.resultData?this.showCRMDefaultFormSorting():("module"in this.context.resultData||P.b.info("Kindly Select the module"),"duplicateOption"in this.context.resultData||P.b.info("Kindly Select the Duplicate Handling"),"recordOwner"in this.context.resultData||P.b.info("Kindly Select the Lead Owner"))}}," ",this.state.btnLoading?this.context.btnLoader:"Continue"," "):" ",e.value&&"DEFAULT_FORM"!==e.value?n.a.createElement("button",{className:"btn btn-primary",disabled:o,onClick:()=>{if(console.log("Form Informtion",this.context.formInfo.formType),console.log("Result Context Data",this.context.resultData.activeForm.value),"DATA_BUCKET_ONLY"===t&&""!==this.context.formInfo.formType.value&&void 0!==this.context.resultData.activeForm.value)return console.log("Inside Data Bucket"),void this.showFormMapping();"DATA_BUCKET_ONLY"!==t||""===this.context.formInfo.formType.value||void 0!==this.context.resultData.activeForm.value?this.context.isEditForm?this.showFormMapping():void 0===this.context.resultData.activeForm.value||void 0===this.context.resultData.module.value||void 0===this.context.resultData.duplicateOption.value||void 0===this.context.resultData.recordOwner.value?(null==this.context.resultData.activeForm.value&&P.b.info("Kindly Select the Active Form"),null==this.context.resultData.module.value&&P.b.info("Kindly Select the module"),null==this.context.resultData.duplicateOption.value&&P.b.info("Kindly Select the Duplicate Handling"),null==this.context.resultData.recordOwner.value&&P.b.info("Kindly Select the Lead Owner")):this.showFormMapping():P.b.info("Kindly Select the Active Form")}}," ",this.state.btnLoading?this.context.btnLoader:"Show Mapping"):" "))))):"step4"===s?n.a.createElement(te,{setSortableField:this.setSortableField.bind(this)}):"step2"===s?n.a.createElement(X,{fields:this.state.sortableFields}):"step3"===s?n.a.createElement(ee,{syncType:t,activeForm:this.context.resultData.activeForm}):"")}}i()(ie,"contextType",o.a);const ce=h.a.div(le()),re=h.a.button(oe()),de=h.a.h1(ne()),me=h.a.p(se());h.a.button(ae());class ue extends s.Component{constructor(e){super(e),i()(this,"handlePageClick",e=>{let t=e.selected;this.state.fromDisplayList?this.displayList(this.state.listName,this.context.selectedDataBucketFormDetails,t+1):this.fetchDataBucketLists(this.context.selectedDataBucketFormDetails,t+1)}),this.state={showPopupDataBucketRecord:!1,selectedPopupDataBucketList:{},enableDataBucketList:!1,searchedText:{},listsArray:[],backupListsArray:[],lists:{},showListCreationModal:!1,allListArray:[],existingListArray:[],listName:"",showListOptions:[],isEditList:!1,oldListName:"",fromDisplayList:!1},this.backupDataBucketFormList={},this.keyLength=0}componentDidMount(){this.backupDataBucketFormList=JSON.parse(JSON.stringify(this.context.dataBucketFormList))}async fetchDataBucketLists(e,t){console.log(e.form_type),console.log(e.shortcode),console.log(e.form_id),console.log("Page Number",t);var a=new FormData;a.set("action","wpulb_get_submitted_form_list_2"),a.set("form_type",e.form_type),a.set("form_name",e.shortcode),a.set("form_id",e.form_id),a.set("cpage",t);try{const t=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),t&&t.data&&t.data.success&&200==t.data.status&&(this.context.setDataBucketFormList(t.data.response),this.context.setSelectedDataBucketFormDetails(e),this.setState({enableDataBucketListView:!0}))}catch(e){console.log(e)}}checkSearchedTextEmpty(e){var t=0,a=Object.keys(e).length;return Object.keys(e).map(a=>{""===e[a]&&(t+=1,console.log("count",t))}),console.log("Key Length",a),a===t&&(console.log("True"),!0)}matchSearchedText(e,t){console.log("searched Text",e);var a=this.context.dataBucketFormList.forms.filter(a=>a[t].toLowerCase().includes(e.toLowerCase()));console.log("searched Array",a),console.log(this.state.searchedText),this.checkSearchedTextEmpty(this.state.searchedText)?(console.log("Backup",this.backupDataBucketFormList),this.context.setDataBucketFormList(JSON.parse(JSON.stringify(this.backupDataBucketFormList))),console.log("Empty Searched Text Array")):(this.context.dataBucketFormList.forms=[],this.context.dataBucketFormList.forms=a,this.context.setDataBucketFormList(this.context.dataBucketFormList))}async fetchAllLists(e){var t=new FormData;t.set("action","wpulb_display_lists"),t.set("form_type",e.form_type),t.set("form_name",e.shortcode),t.set("form_id",e.form_id);try{const e=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log(e),e&&e.data&&e.data.success&&200==e.data.status){for(var a=0;a<e.data.response.lists.length;a++)this.state.showListOptions[a]=!1;this.setState({listsArray:e.data.response.lists,backupListsArray:e.data.response.lists})}}catch(e){console.log(e)}}async createNewList(){var e=new FormData;e.set("action","wpulb_create_new_list");try{const s=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log(s),s&&s.data&&s.data.success&&200==s.data.status){this.setState({lists:s.data.response}),this.setState({showListCreationModal:!0});var t=s.data.response.all_lists.map(function(e){return{value:e,label:e}});console.log("All Lists Array",this.state.allListArray);var a=s.data.response.existing_lists.map(function(e){return{value:e,label:e}});this.setState({allListArray:t,existingListArray:a}),console.log("All List Array",this.state.allListArray),console.log("Existing List Array",this.state.existingListArray)}}catch(e){console.log(e)}}handleChange(e,t){console.log(e,t),console.log("Existing List Array",this.state.existingListArray),this.state.existingListArray=[],this.setState({existingListArray:e})}async saveCreatedList(e){console.log(this.context.selectedDataBucketFormDetails);var t=[];this.state.existingListArray.map(e=>{for(var a in e)"value"==a&&t.push(e[a])}),console.log("Headers",t);var a=new FormData;a.set("action","wpulb_save_or_update_list"),a.set("list_name",this.state.listName),a.set("form_type",e.form_type),a.set("form_name",e.shortcode),a.set("form_id",e.form_id),a.set("is_edit",this.state.isEditList),a.set("header",JSON.stringify(t)),this.state.isEditList&&a.set("old_list_name",this.state.oldListName);try{const e=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(e),e&&e.data&&e.data.success&&200==e.data.status&&(this.setState({listsArray:e.data.response.lists}),P.b.info(e.data.message))}catch(e){console.log(e)}}async editList(e,t){var a=new FormData;a.set("action","wpulb_edit_list"),a.set("list_name",e),a.set("form_type",t.form_type),a.set("form_name",t.shortcode),a.set("form_id",t.form_id);try{const t=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log(t),t&&t.data&&t.data.success&&200==t.data.status){var s,n=t.data.response.all_lists.map(function(e){return{value:e,label:e}});console.log("List Name",e),console.log("All Lists Array",this.state.allListArray),s=null!==t.data.response.existing_lists?t.data.response.existing_lists.map(function(e){return{value:e,label:e}}):[],this.setState({allListArray:n,existingListArray:s,listName:e,isEditList:!0,oldListName:e})}}catch(e){console.log(e)}}async deleteList(e,t){var a=new FormData;a.set("action","wpulb_delete_list"),a.set("list_name",e),a.set("form_type",t.form_type),a.set("form_name",t.shortcode),a.set("form_id",t.form_id);try{const e=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(e),e&&e.data&&e.data.success&&200==e.data.status&&(this.setState({listsArray:e.data.response.lists}),P.b.info(e.data.message))}catch(e){console.log(e)}}async displayList(e,t,a){var s=new FormData;s.set("action","wpulb_display_view"),s.set("list_name",e),s.set("form_type",t.form_type),s.set("form_name",t.shortcode),s.set("form_id",t.form_id),s.set("cpage",a);try{const t=await r()({method:"post",url:ajaxurl,data:s,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),t&&t.data&&t.data.success&&200==t.data.status&&(this.setState({fromDisplayList:!0,listName:e}),this.context.setDataBucketFormList(t.data.response))}catch(e){console.log(e)}}searchLists(e){var t=this.state.listsArray.filter(t=>t.toLowerCase().includes(e.toLowerCase()));console.log("Filtered Searched List",t),""!==e?this.setState({listsArray:t}):this.setState({listsArray:this.state.backupListsArray})}setDropdownSubmenu(e){console.log("Index",e);for(var t=0;t<this.state.showListOptions.length;t++)this.state.showListOptions[t]=t==e;this.setState({showListOptions:this.state.showListOptions})}render(){return n.a.createElement(n.a.Fragment,null,this.state.enableDataBucketList?n.a.createElement(pe,null):n.a.createElement("div",{className:"container tab-containers"},console.log("Data Bucket Form List",this.context.dataBucketFormList),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12 module-action-bar"},n.a.createElement("div",{className:"col-lg-2 col-sm-4 col-md-2"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{type:"button",className:"btn btn-filter dropdown-toggle","data-toggle":"dropdown",onClick:e=>{this.fetchAllLists(this.context.selectedDataBucketFormDetails)}},n.a.createElement("span",{className:"filter-icon",onClick:e=>{this.fetchAllLists(this.context.selectedDataBucketFormDetails)}}),n.a.createElement("div",{className:"pad20",onClick:e=>{this.fetchAllLists(this.context.selectedDataBucketFormDetails)}},"Lists")),n.a.createElement("div",{className:"dropdown-menu"},n.a.createElement("div",null,n.a.createElement("div",{className:"dropdown-header"},n.a.createElement("h5",null,this.context.language.Lists),n.a.createElement("div",{className:"new-list","data-toggle":"modal","data-target":"#createList",onClick:e=>{this.createNewList()}},"+ create new")),n.a.createElement("div",{className:"dropdown-search"},n.a.createElement("span",{className:"search-icon"}),n.a.createElement("input",{className:"search-list",type:"text",placeholder:"Search for List",onChange:e=>{this.searchLists(e.target.value)}})),this.state.listsArray.length>0?n.a.createElement("div",{className:"dropdown-body"},n.a.createElement("ul",{className:"list-name"},this.state.listsArray.map((e,t)=>n.a.createElement("li",{className:"dropdown-submenu"},n.a.createElement("span",{onClick:t=>{this.displayList(e,this.context.selectedDataBucketFormDetails,1)}},e),n.a.createElement("i",{className:"fa fa-sort-desc dropdown-submenu-toggle",href:"#",style:{float:"right"},"data-toggle":"dropdown-submenu",onClick:e=>{this.setDropdownSubmenu(t),console.log("Show List Options",this.state.showListOptions)}}),this.state.showListOptions[t]?n.a.createElement("div",{className:"dropdown-submenu-menu"},n.a.createElement("a",{className:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#createList",onClick:t=>{this.editList(e,this.context.selectedDataBucketFormDetails)}},"Edit"),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:t=>{this.deleteList(e,this.context.selectedDataBucketFormDetails)}},"Delete")):"")))):"")))))),n.a.createElement("div",{id:"filtertable-content",className:"table-container"},n.a.createElement("table",{className:"table",id:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,this.context.dataBucketFormList.list_view.map(e=>{if("First Name"===e||"Last Name"===e||"Email"===e||"submitted_date"===e||"sync_status"===e)return n.a.createElement("th",null,e)}),n.a.createElement("th",null,"Actions")),n.a.createElement("tr",null,this.context.dataBucketFormList.list_view.map((e,t)=>{if("First Name"===e||"Last Name"===e||"Email"===e||"submitted_date"===e||"sync_status"===e)return n.a.createElement("th",null,n.a.createElement("input",{type:"text",name:"username",value:this.state.searchedText[e],className:"form-control col-md-6",onChange:t=>{this.state.searchedText[e]=t.target.value,this.setState({searchedText:this.state.searchedText},this.matchSearchedText(t.target.value,e))}}))}))),n.a.createElement("tbody",null,this.context.dataBucketFormList.forms.map((e,t)=>n.a.createElement("tr",null,Object.keys(e).map(t=>{if("First Name"===t||"Last Name"===t||"Email"===t||"submitted_date"===t||"sync_status"===t)return n.a.createElement("td",null,e[t])}),n.a.createElement("td",{className:"stickycols"},n.a.createElement("div",{className:"table-actions"},n.a.createElement("a",{className:"quickView",href:"#","data-toggle":"modal","data-target":"#quickviewContent",onClick:t=>{this.state.showPopupDataBucketRecord=!0,this.state.selectedPopupDataBucketList=e,this.setState({showPopupDataBucketRecord:this.state.showPopupDataBucketRecord,selectedPopupDataBucketList:this.state.selectedPopupDataBucketList}),console.log("Clicked a Record",this.state.selectedPopupDataBucketList,this.state.showPopupDataBucketRecord)}},n.a.createElement(he,null)))))))),n.a.createElement(n.a.Fragment,null,this.context.dataBucketFormList.total_page>1?n.a.createElement(O.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:parseInt("".concat(this.context.dataBucketFormList.total_page)),marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}):""),n.a.createElement("button",{className:"btn btn-default",onClick:e=>{this.setState({enableDataBucketList:!0})}},"Back")),n.a.createElement("div",{id:"quickviewContent",className:"modal fade show"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header d-flex justify-content-end"},n.a.createElement("h2",{className:"main-heading"},"Details of Data Bucket List"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×")),n.a.createElement("div",{className:"row modal-body"},n.a.createElement("div",{className:"col-md-10"},n.a.createElement("table",{className:"summary-table no-border"},n.a.createElement("tbody",null,Object.keys(this.state.selectedPopupDataBucketList).map(e=>n.a.createElement("tr",{className:"summaryEntries"},n.a.createElement("td",{className:"fieldLabel col-md-5 border-right"},e),n.a.createElement("td",{className:"fieldValue col-md-7"},this.state.selectedPopupDataBucketList[e])))))))))),n.a.createElement("div",{id:"createList",className:"modal fade show"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h2",{className:"main-heading"},"Create a List"),n.a.createElement("button",{id:"closemodal",type:"button",className:"close","data-dismiss":"modal"},"×")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"listname"},"List Name"),n.a.createElement("input",{className:"form-control",value:this.state.listName,type:"text",onChange:e=>{this.setState({listName:e.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"listname"},"Choose Columns and Orders"),n.a.createElement(W.a,{id:"listCreate",className:"select",name:"listCreate",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),defaultValue:this.state.existingListArray,value:this.state.existingListArray,onChange:(e,t)=>{this.handleChange(e,t)},options:this.state.allListArray,isMulti:!0})),n.a.createElement("div",{className:"form-group mt40"},n.a.createElement("div",{className:"float-left"},n.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal"},"Cancel")),n.a.createElement("div",{className:"float-right"},n.a.createElement("button",{className:"btn btn-primary","data-dismiss":"modal",onClick:e=>{""===this.state.listName?P.b.info("Kindly enter the list name before create the list"):this.saveCreatedList(this.context.selectedDataBucketFormDetails)}},"Create List")))))))))))}}i()(ue,"contextType",o.a);const he=({size:e=20,color:t="#00a699"})=>n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),n.a.createElement("circle",{cx:"12",cy:"12",r:"3"}));a(463);class pe extends s.Component{constructor(){super(),i()(this,"state",{loading:!1,formsList:[],enableDataBucketListView:!1,dataBucketList:[],filterArrayList:{},filterCondition:{},filterData:[],showSubmit:!1,viewDetail:[],andOr:[],startDate:new Date,filterType:[],pageCount:0,pageNumber:1,showFilterPagination:!1}),i()(this,"focusIn",e=>{console.log("calendar-id",e),document.querySelector("#"+e).focus()}),i()(this,"handlePageClick",e=>{let t=e.selected;console.log(t+1),this.state.showFilterPagination?this.submitFilter(t+1):this.fetchDataBucketList(t+1)}),this.calendarInput=n.a.createRef()}componentDidMount(){this.fetchSubmittedFormsList(1),this.getFilterData(),0==this.state.filterData.length&&this.addFilter(),console.log(ge)}async fetchSubmittedFormsList(e){try{var t=new FormData;t.set("action","wpulb_get_submitted_form_list_1"),t.set("cpage",e);const a=await r.a.get(ajaxurl,{params:x(t)});this.setState({loading:!1}),console.log("New Form List",a),a&&a.data&&a.data.success&&200==a.data.status&&this.setState({formsList:a.data.response.forms})}catch(e){console.error(e)}}async fetchDataBucketLists(e,t){console.log(e.form_type),console.log(e.shortcode),console.log(e.form_id),console.log(t);var a=new FormData;a.set("action","wpulb_get_submitted_form_list_2"),a.set("form_type",e.form_type),a.set("form_name",e.shortcode),a.set("form_id",e.form_id),a.set("cpage",t);try{const t=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),t&&t.data&&t.data.success&&200==t.data.status&&(this.context.setDataBucketFormList(t.data.response),this.context.setSelectedDataBucketFormDetails(e),this.setState({enableDataBucketListView:!0}))}catch(e){console.log(e)}}async fetchDataBucketList(e){console.log("pg no",e),this.setState({loading:!0});try{var t=new FormData;t.set("action","wpulb_get_submitted_form_list"),t.set("cpage",e);const a=await r.a.get(ajaxurl,{params:x(t)});this.setState({loading:!1}),a&&a.data&&a.data.success&&200==a.data.status&&this.setState({dataBucketList:a.data.response.forms,pageCount:a.data.response.total_page},()=>{})}catch(e){console.error(e)}}removeActive(){document.getElementById("details-card").classList.remove("active")}async fetchDataBucketDetails(e,t=!1){console.log(e);const a=document.getElementById("details-card");t&&(a.style.top=event.clientY+"px",a.style.left=event.clientX+"px",a.classList.add("active"));try{var s=new FormData;s.set("action","wpulb_get_submitted_form_details"),s.set("id",e);const t=await r()({method:"post",url:ajaxurl,data:s,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("detail View",t),this.setState({viewDetail:t.data.response.forms},()=>{console.log("dataval",this.state.viewDetail)})}catch(e){console.error(e)}}addFilter(){this.state.filterData.push({field:"",condition:"",value:""}),this.setState({filterData:this.state.filterData},()=>{console.log(this.state.filterData.length),1!==this.state.filterData.length&&(this.state.andOr.push("Or"),this.setState({andOr:this.state.andOr},()=>{console.log("addtimeandor",this.state.andOr)}));let e=this.state.filterData.length-1;this.state.filterCondition[e]="",this.setState({filterCondition:this.state.filterCondition},()=>{console.log(this.state.filterCondition)})})}resetFilter(){this.fetchDataBucketList(1),this.setState({filterData:[]},()=>{0==this.state.filterData.length&&this.addFilter()})}deleteFilter(e){this.state.filterData.splice(e,1),this.state.andOr.splice(e-1,1),delete this.state.filterCondition[e],this.setState({filterData:this.state.filterData,andOr:this.state.andOr,filterCondition:this.state.filterCondition},()=>{console.log("callvalue",this.state.filterData),console.log("andoorr",this.state.andOr),console.log("filterCondition",this.state.filterCondition)})}async submitFilter(e){let t=this.state.filterData,a=this.state.andOr;try{var s=new FormData;s.set("action","wpulb_filter_details"),s.set("data",JSON.stringify(t)),s.set("key",JSON.stringify(a)),s.set("cpage",e);const n=await r()({method:"post",url:ajaxurl,data:s,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(n),this.setState({dataBucketList:n.data.response.forms,pageCount:n.data.response.total_page,showFilterPagination:!0},()=>{console.log("filter-list",this.state.dataBucketList+"&"+this.state.pageCount+"&"+this.state.showFilterPagination)})}catch(e){console.error(e)}}andOrFilter(e,t){this.state.andOr[e]=t,console.log(this.state.andOr[e]),this.setState({andOr:this.state.andOr},()=>{console.log("finalandor",this.state.andOr)})}updateFilterData(e,t,a){if(console.log(t),"field"===a){console.log(t.type);let a=t.type;this.state.filterType[e]=a,this.setState({filterType:this.state.filterType},()=>{console.log("typeoffilter",this.state.filterType)}),this.state.filterCondition[e]=ge[a],this.setState({filterCondition:this.state.filterCondition},()=>{console.log(this.state.filterCondition)}),t=t.value}if("value"===a){let t=this.state.filterData[e].condition;if("is one of"===t||"is not one of"===t){let t=this.state.filterData[e].value.split(",");console.log("text",t)}}this.state.filterData[e][a]=t,this.setState({filterData:this.state.filterData},()=>{console.log("updatedata",this.state.filterData)}),this.setState({showSubmit:!0})}setValue(e,t,a){console.log("www",this.state.filterData),console.log(e+" "+t+"   "+a),"string"==typeof this.state.filterData[e].value?(this.state.filterData[e].value={},this.state.filterData[e].value[a]=t):this.state.filterData[e].value[a]=t,this.setState({filterData:this.state.filterData},()=>{console.log("www",this.state.filterData)})}async getFilterData(){var e=new FormData;e.set("action","wpulb_list_filters");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});return void this.setState({filterArrayList:t.data.response},()=>{console.log("filter",this.state.filterArrayList)})}catch(e){console.log(e)}}render(){const{fields:e}=this.state.filterArrayList,{filterCondition:t}=this.state;return n.a.createElement(n.a.Fragment,null,this.state.enableDataBucketListView?n.a.createElement(ue,null):n.a.createElement("div",{className:"tab-containers container p0"},n.a.createElement("div",{className:"d-flex justify-content-end px-4 pt-4"},n.a.createElement("div",{className:"custom-dropdown"})),n.a.createElement("div",{className:"col-md-8"},n.a.createElement("h1",{className:"main-heading p-0 mt-0 mb-3 ml-1"},"Data Bucket Forms List")),n.a.createElement("div",{className:"table-responsive mt-2"},n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"pl-4"}," ",this.context.language.FORMNAME," "),n.a.createElement("th",null," ",this.context.language.FORMTYPE," "),n.a.createElement("th",null," ",this.context.language.SUBMITTEDFORMSCOUNT," "),n.a.createElement("th",{className:""}," ",this.context.language.ACTION))),n.a.createElement("tbody",null," ",this.state.loading?n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5",className:"text-center",style:{height:"60px"}}," "," "," ",this.context.loaderText," "," "," ")," "):0!=this.state.formsList.length?this.state.formsList.map(e=>n.a.createElement("tr",null,n.a.createElement("td",{className:"pl-4 hoverDetail"},e.shortcode," "),n.a.createElement("td",null,e.form_type),n.a.createElement("td",null,e.total_submissions),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-secondary",onClick:()=>{this.fetchDataBucketLists(e,1)}},n.a.createElement("i",{class:"fa fa-eye"}))))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5",className:"text-center text-danger"},"No Data Found"))," "," ")),n.a.createElement(n.a.Fragment,null,this.state.pageCount>1?n.a.createElement(O.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}):""))),n.a.createElement("div",{className:"modal fade",id:"viewDetails"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h2",{className:"main-heading"},"View Details  "),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement(n.a.Fragment,null,this.state.viewDetail.map((e,t)=>n.a.createElement("div",{className:"row"},n.a.createElement("label",{className:"col-md-4"}," ",e.label," "),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",{className:"col-md-6"}," ",e.name," ")))))))))),n.a.createElement("div",{id:"details-card"}))}}i()(pe,"contextType",o.a);var ge={Text:["is","is not","is one of","is not one of","Contain string","Not contain string","Start with string","Not start with string","End with string","Not end with string"],File:["is","is not","is one of","is not one of","Contain string","Not contain string","Start with string","Not start with string","End with string","Not end with string"],Integer:["Equal to","Not equal to","Greater than","Less than","Greater than or equal to","Less than or equal to","Between","Not between"],Decimal:["Equal to","Not equal to","Greater than","Less than","Greater than or equal to","Less than or equal to","Between","Not between"],Currency:["Equal to","Not equal to","Greater than","Less than","Greater than or equal to","Less than or equal to","Between","Not between"],Select:["Contain string","Not contain string","Start with string","Not start with string","End with string","Not end with string"],MultiSelect:["Contain string","Not contain string","Start with string","Not start with string","End with string","Not end with string"],Date:["is","is not","is one of","is not one of","Equal to","Not equal to","Greater than","Less than","Greater than or equal to","Less than or equal to","Between","Not between"],DateTime:["is","is not","is one of","is not one of","Equal to","Not equal to","Greater than","Less than","Greater than or equal to","Less than or equal to","Between","Not between"],Boolean:["Equal to","Not equal to","is one of","is not one of"],Phone:["is","is not","Contain string","Not contain string","Start with string","Not start with string","End with string","Not end with string"],Hidden:["is","is not","is one of","is not one of","Contain string","Not contain string","Start with string","Not start with string","End with string","Not end with string"]};class fe extends s.Component{render(){return n.a.createElement(pe,null)}}class ye extends s.Component{constructor(...e){super(...e),i()(this,"state",{username:"",password:"",domain:".com"})}componentDidMount(){this.callBackUrl(),this.context.crmConfigData&&this.setState(this.context.crmConfigData)}async callBackUrl(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_get_callback_url"}});e&&e.data&&200==e.data.status&&e.data.success&&(console.log("calls",e.data.response.callback_url),this.setState({callBackUrl:e.data.response.callback_url}))}catch(e){console.error(e)}}async saveCRMConfiguration(){var e=new FormData;e.set("action","wpulb_save_configuration"),e.set("username",this.state.username),e.set("password",this.state.password),e.set("domain",this.state.domain),e.set("addon_slug","zohocrm"),e.set("addon_type","crm_addon");try{const a=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log(a),a&&a.data&&200==a.data.status&&a.data.success){var t=a.data.response.redirect_url;return void window.open(t,"_self")}console.log("data not found")}catch(e){console.log(e)}}async zohoAuth(){var e=new FormData;e.set("action","wpulb_zohoauth"),e.set("consumer_key",this.state.username),e.set("consumer_secret",this.state.password),e.set("domain",this.state.domain),e.set("code","");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t)}catch(e){console.log(e)}}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedCRM(""),this.context.setCRMConfigData(""),this.context.setIsCRMConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!1}))}copyToClipboard(e){var t=document.getElementById("callback");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),alert("Copied the text: "+t.value)}render(){const{username:e,password:t,domain:a}=this.state,{isCRMConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},this.context.language.ZohoCRMConfiguration)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.ClientId),n.a.createElement("input",{type:"text",id:"client-id",name:"clientId",value:e,className:"form-control",onChange:()=>{this.setState({username:event.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.ClientSecret),n.a.createElement("input",{type:"text",id:"client-secret",name:"clientSecret",value:t,className:"form-control",onChange:()=>{this.setState({password:event.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.Callback),n.a.createElement("div",{className:"d-flex",style:{position:"relative"}},n.a.createElement("input",{className:"w-100",style:{paddingRight:"40px"},type:"text",id:"callback",name:"callback",placeholder:this.state.callBackUrl,value:this.state.callBackUrl,className:"form-control",disabled:!1,readonly:!0}),n.a.createElement("i",{class:"fa fa-files-o help-icon-align","aria-hidden":"true",style:{position:"absolute",top:"0px",right:"10px"},onClick:e=>{this.copyToClipboard(e)}}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.AvailableDomains),n.a.createElement("select",{className:"form-control",value:this.state.domain,onChange:()=>{this.setState({domain:event.target.value})}},n.a.createElement("option",{value:".com"},".com"),n.a.createElement("option",{value:".in"},".in"),n.a.createElement("option",{value:".eu"},".eu"),n.a.createElement("option",{value:".au"},".au"))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resetcrm",onClick:()=>N(this.afterReset.bind(this),"You want to Reset CRM Configuration?")},this.context.language.ResetConfiguration):"",n.a.createElement("button",{onClick:()=>{this.zohoAuth(),this.saveCRMConfiguration()},className:"btn btn-primary mt-4 "},this.context.language.Configure)))}}i()(ye,"contextType",o.a);class be extends s.Component{constructor(...e){super(...e),i()(this,"state",{api_endpoint_url:"",username:"",password:"",loading:!1})}componentDidMount(){this.context.crmConfigData&&this.setState(this.context.crmConfigData)}onConfig(e){console.log("checking",e),e.data.success&&200==e.data.status?(this.setState({loading:!1}),P.b.success("JoForceCRM Successfully Configured"),this.context.setIsCRMConfigured(!0),this.context.setShowComponent("form-manage"),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!0}),window.location.reload()):(P.b.error(e.data.message),this.setState({loading:!1}))}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedCRM(""),this.context.setCRMConfigData(""),this.context.setIsCRMConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!1}))}render(){const{username:e,password:t,api_endpoint_url:a}=this.state,{isCRMConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"JoForce CRM Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Enter your CRM Url"),n.a.createElement("input",{type:"text",id:"client-id",name:"crmURL",className:"form-control",value:a,onChange:e=>{this.setState({api_endpoint_url:e.target.value})}}),n.a.createElement("small",{class:"form-text text-muted"},"https://demo.joforce.com")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnteryourUsername),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",className:"form-control",value:e,onChange:e=>{this.setState({username:e.target.value})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Enter your Password"),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",className:"form-control",value:t,onChange:e=>{this.setState({password:e.target.value})}}))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resetcrm",onClick:()=>N(this.afterReset.bind(this),"You want to Reset CRM Configuration?")},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),w(a,e,t,"joforcecrm","crm_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 mr15"},this.context.language.Configure," your JoforceCRM")))}}i()(be,"contextType",o.a);class Ee extends s.Component{constructor(...e){super(...e),i()(this,"state",{api_endpoint_url:"",username:"",password:"",loading:!1})}componentDidMount(){this.context.crmConfigData&&this.setState(this.context.crmConfigData)}onConfig(e){console.log("checking",e),e.data.success&&200==e.data.status?(this.setState({loading:!1}),P.b.success("Vtiger CRM Successfully Configured"),this.context.setIsCRMConfigured(!0),this.context.setShowComponent("form-manage"),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!0}),window.location.reload()):(this.setState({loading:!1}),P.b.error(e.data.message))}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedCRM(""),this.context.setCRMConfigData(""),this.context.setIsCRMConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!1}))}render(){const{username:e,password:t,api_endpoint_url:a}=this.state,{isCRMConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"Vtiger CRM Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Enter your CRM Url"),n.a.createElement("input",{type:"text",id:"client-id",name:"api_endpoint_url",value:a,className:"form-control",onChange:e=>{this.setState({api_endpoint_url:e.target.value})}}),n.a.createElement("small",{class:"form-text text-muted"},"https://demo.smackcoders.com/vtiger")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnteryourUsername),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",value:e,className:"form-control",onChange:e=>{this.setState({username:e.target.value})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnterAccessKey),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",value:t,className:"form-control",onChange:e=>{this.setState({password:e.target.value})}}))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resetcrm",onClick:()=>N(this.afterReset.bind(this),"You want to Reset CRM Configuration?")},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),w(a,e,t,"vtigercrm","crm_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 mr15"},this.context.language.Configure," your VtigerCRM")))}}i()(Ee,"contextType",o.a);class ve extends s.Component{constructor(...e){super(...e),i()(this,"state",{api_endpoint_url:"",username:"",password:"",loading:!1})}componentDidMount(){this.context.crmConfigData&&this.setState(this.context.crmConfigData)}onConfig(e){console.log("checking",e),e.data.success&&200==e.data.status?(this.setState({loading:!1}),P.b.success("SugarCRM Successfully Configured"),this.context.setIsCRMConfigured(!0),this.context.setShowComponent("form-manage"),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!0}),window.location.reload()):(this.setState({loading:!1}),P.b.error(e.data.message))}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedCRM(""),this.context.setCRMConfigData(""),this.context.setIsCRMConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!1}))}render(){const{username:e,password:t,api_endpoint_url:a}=this.state,{isCRMConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"Sugar CRM Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Enter your CRM Url"),n.a.createElement("input",{type:"text",id:"client-id",name:"api_endpoint_url",value:a,className:"form-control",onChange:e=>{this.setState({api_endpoint_url:e.target.value})}}),n.a.createElement("small",{class:"form-text text-muted"},"https://demo.smackcoders.com/sugarcrm")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnteryourUsername),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",value:e,className:"form-control",onChange:e=>{this.setState({username:e.target.value})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Enter your Password"),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",value:t,className:"form-control",onChange:e=>{this.setState({password:e.target.value})}}))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resetcrm",onClick:()=>N(this.afterReset.bind(this),"You want to Reset CRM Configuration?")},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),w(a,e,t,"sugarcrm","crm_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 mr15"},this.context.language.Configure," your SugarCRM")))}}i()(ve,"contextType",o.a);class xe extends s.Component{constructor(...e){super(...e),i()(this,"state",{api_endpoint_url:"",username:" ",password:" "})}componentDidMount(){this.callBackUrl(),this.context.crmConfigData&&this.setState(this.context.crmConfigData)}async callBackUrl(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_get_callback_url"}});e&&e.data&&200==e.data.status&&e.data.success&&(console.log("calls",e.data.response.callback_url),this.setState({callBackUrl:e.data.response.callback_url}))}catch(e){console.error(e)}}copyToClipboard(e){var t=document.getElementById("callback");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),alert("Copied the text: "+t.value)}onConfig(e){if(console.log("checking",e),e&&e.data&&200==e.data.status&&e.data.success){var t=e.data.response.redirect_url;window.open(t,"_self")}else;}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedCRM(""),this.context.setCRMConfigData(""),this.context.setIsCRMConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!1}))}render(){const{username:e,password:t}=this.state,{isCRMConfigured:a}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"SalesForce CRM Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Callback URL"),n.a.createElement("div",{className:"d-flex",style:{position:"relative"}},n.a.createElement("input",{className:"w-100",style:{paddingRight:"40px"},type:"text",id:"callback",name:"callback",placeholder:this.state.callBackUrl,value:this.state.callBackUrl,onChange:e=>{this.setState({callBackUrl:e.target.value})},className:"form-control",disabled:!1,readonly:!0}),n.a.createElement("i",{class:"fa fa-files-o help-icon-align","aria-hidden":"true",style:{position:"absolute",top:"0px",right:"10px"},onClick:e=>{this.copyToClipboard(e)}}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Consumer Key"),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",value:e,className:"form-control",onChange:()=>{this.setState({username:event.target.value},()=>{console.log("callback value",this.state.username)})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Consumer Secret"),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",value:t,className:"form-control",onChange:()=>{this.setState({password:event.target.value})}}))),n.a.createElement("div",{className:"row justify-content-end"},a?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resetcrm",onClick:()=>N(this.afterReset.bind(this),"You want to Reset CRM Configuration?")},this.context.language.ResetConfiguration):"",n.a.createElement("button",{onClick:()=>{w("",e,t,"salesforcecrm","crm_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 "},this.context.language.Configure," your SalesforceCRM")))}}i()(xe,"contextType",o.a);var Ce=xe;class we extends s.Component{constructor(...e){super(...e),i()(this,"state",{api_endpoint_url:"",username:"",password:"",loading:!1})}componentDidMount(){this.context.crmConfigData&&this.setState(this.context.crmConfigData)}onConfig(e){console.log("checking",e),e.data.success&&200==e.data.status?(this.setState({loading:!1}),P.b.success("SuiteCRM Successfully Configured"),this.context.setIsCRMConfigured(!0),this.context.setShowComponent("form-manage"),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!0}),window.location.reload()):(this.setState({loading:!1}),P.b.error(e.data.message))}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedCRM(""),this.context.setCRMConfigData(""),this.context.setIsCRMConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!1}))}render(){const{username:e,password:t,api_endpoint_url:a}=this.state,{isCRMConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"Suite CRM Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Enter your URL"),n.a.createElement("input",{type:"text",id:"client-id",name:"clientId",className:"form-control",value:a,onChange:()=>{this.setState({api_endpoint_url:event.target.value},()=>{console.log("callback value",this.state.api_endpoint_url)})}}),n.a.createElement("small",{class:"form-text text-muted"},"https://demo.smackcoders.com/suitecrm")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnteryourUsername),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",value:e,className:"form-control",onChange:()=>{this.setState({username:event.target.value},()=>{console.log("callback value",this.state.username)})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Enter your password"),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",value:t,className:"form-control",onChange:e=>{this.setState({password:e.target.value},()=>{console.log("callback value",this.state.password)})}}))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resetcrm",onClick:()=>N(this.afterReset.bind(this),"You want to Reset CRM Configuration?")},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),w(a,e,t,"suitecrm","crm_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 "},this.context.language.Configure," your SuiteCRM")))}}i()(we,"contextType",o.a);var _e=we;class ke extends s.Component{constructor(...e){super(...e),i()(this,"state",{api_endpoint_url:"",username:"",password:"",loading:!1})}componentDidMount(){this.context.crmConfigData&&this.setState(this.context.crmConfigData)}onConfig(e){console.log("checking",e),e.data.success&&200==e.data.status?(this.setState({loading:!1}),P.b.success("Freshsales CRM Successfully Configured"),this.context.setIsCRMConfigured(!0),this.context.setShowComponent("form-manage"),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!0}),window.location.reload()):(this.setState({loading:!1}),P.b.error(e.data.message))}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedCRM(""),this.context.setCRMConfigData(""),this.context.setIsCRMConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,crmAddons:!1}))}render(){const{username:e,password:t,api_endpoint_url:a}=this.state,{isCRMConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"Freshsales CRM Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Enter your Domain Url"),n.a.createElement("input",{type:"text",id:"client-id",name:"api_endpoint_url",value:a,className:"form-control",onChange:e=>{this.setState({api_endpoint_url:e.target.value})}}),n.a.createElement("small",{class:"form-text text-muted"},"https://yourdomain.freshsales.io")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnteryourUsername),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",value:e,className:"form-control",onChange:e=>{this.setState({username:e.target.value})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Enter your password"),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",value:t,className:"form-control",onChange:e=>{this.setState({password:e.target.value})}}))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resetcrm",onClick:()=>N(this.afterReset.bind(this),"You want to Reset CRM Configuration?")},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),w(a,e,t,"freshsalescrm","crm_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 mr15"},this.context.language.Configure," your Freshsales")))}}i()(ke,"contextType",o.a);const Ne={display:"flex",alignItems:"center",justifyContent:"space-between"},Se={backgroundColor:"#EBECF0",borderRadius:"2em",color:"#172B4D",display:"inline-block",fontSize:12,fontWeight:"normal",lineHeight:"1",minWidth:1,padding:"0.16666666666667em 0.5em",textAlign:"center"};class Fe extends s.Component{constructor(...e){super(...e),i()(this,"state",{loading:!1,crmFormsList:[],selectedCRM:""}),i()(this,"formatGroupLabel",e=>n.a.createElement("div",{style:Ne},n.a.createElement("span",null,e.label),n.a.createElement("span",{style:Se},e.options.length))),i()(this,"setSelectedCRM",e=>{this.setState({selectedCRM:e})})}componentDidMount(){this.setState({loading:!0}),this.fetchActiveCRMList(),this.getConfiguredCRMData()}async getConfiguredCRMData(){this.setState({loading:!0});try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_get_configured_crm"}});this.setState({loading:!1}),e&&e.data&&200==e.data.status&&e.data.success&&(console.log("getCongfiguredCRMData",e),e.data.is_configured?(this.context.setIsCRMConfigured(!0),this.context.setCRMConfigData(e.data.response),this.setState({selectedCRM:e.data.crm},()=>{console.log("maki",this.state.selectedCRM)})):this.context.setIsCRMConfigured(!1))}catch(e){console.error(e)}}async fetchActiveCRMList(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_get_active_addons_for_config"}});e&&e.data&&200==e.data.status&&e.data.success&&(console.log("list",e),this.setState({crmFormsList:e.data.response.addon_list},()=>{console.log(this.state.crmFormsList)}))}catch(e){console.error(e)}}render(){const{selectedCRM:e}=this.state,{imagePath:t}=window.wpulb_wpr_object,{isCRMConfigured:a}=this.context;return n.a.createElement(n.a.Fragment,null,this.state.loading?n.a.createElement("div",{className:"tab-containers container d-flex justify-content-center align-items-center",style:{minHeight:"300px"}},this.context.loaderText):n.a.createElement("div",{className:"tab-containers container crm-config ".concat(a?"act":"")},n.a.createElement("div",{className:"mt-3 mb-3"},n.a.createElement("div",{className:"d-flex ".concat(e&&""!==e.value?"justify-content-between":"justify-content-end"," select-crm-configuration align-items-center")},e&&""!==e.value?n.a.createElement("img",{style:{height:"40px"},src:"".concat(t).concat(e.value,".png")}):"",n.a.createElement("div",{className:"w-50 d-flex justify-content-end align-items-center"},n.a.createElement("label",{className:"mb0"},this.context.language.Choosefromthelist),n.a.createElement(W.a,{className:"select col-md-6",value:this.state.selectedCRM,options:this.state.crmFormsList,theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isDisabled:a,onChange:e=>{this.setState({selectedCRM:e},()=>{console.log(this.state.selectedCRM)})},formatGroupLabel:this.formatGroupLabel}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},"zohocrm"===e.value?n.a.createElement(ye,{setSelectedCRM:this.setSelectedCRM.bind(this)}):"joforcecrm"===e.value?n.a.createElement(be,{setSelectedCRM:this.setSelectedCRM.bind(this)}):"vtigercrm"===e.value?n.a.createElement(Ee,{setSelectedCRM:this.setSelectedCRM.bind(this)}):"sugarcrm"===e.value?n.a.createElement(ve,{setSelectedCRM:this.setSelectedCRM.bind(this)}):"salesforcecrm"===e.value?n.a.createElement(Ce,{setSelectedCRM:this.setSelectedCRM.bind(this)}):"suitecrm"===e.value?n.a.createElement(_e,{setSelectedCRM:this.setSelectedCRM.bind(this)}):"freshsalescrm"===e.value?n.a.createElement(ke,{setSelectedCRM:this.setSelectedCRM.bind(this)}):n.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{minHeight:"250px"}},n.a.createElement("div",{className:"icon-container primary"},n.a.createElement("div",{className:"icon-animation"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),n.a.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),n.a.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),n.a.createElement("rect",{x:"3",y:"14",width:"7",height:"7"})))),n.a.createElement("h1",{className:"main-heading text-gray-700 text-center"},"Please Choose CRM from List"," ",n.a.createElement("br",null)," for Configuration")))))))}}i()(Fe,"contextType",o.a);class Le extends s.Component{render(){return n.a.createElement(Fe,null)}}class De extends s.Component{constructor(...e){super(...e),i()(this,"state",{domain_url:"",username:"",password:"",loading:!1})}componentDidMount(){this.context.helpdeskConfigData&&this.setState(this.context.helpdeskConfigData)}onConfig(e){console.log("checking",e),e.data.success&&200==e.data.status?(this.setState({loading:!1}),P.b.success("Vtiger Helpdesk Successfully Configured"),this.context.setIsHelpdeskConfigured(!0),this.context.setShowComponent("form-manage"),this.context.setCheckAddons({...this.context.checkAddons,helpdeskAddons:!0})):(this.setState({loading:!1}),P.b.error(e.data.message))}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedHelpdesk(""),this.context.setHelpdeskConfigData(""),this.context.setIsHelpdeskConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,helpdeskAddons:!1}))}render(){const{username:e,password:t,domain_url:a}=this.state,{isHelpdeskConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"Vtiger Helpdesk Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.EnteryourHelpdeskUrl),n.a.createElement("input",{type:"text",id:"client-id",name:"domain_url",value:a,className:"form-control",onChange:e=>{this.setState({domain_url:e.target.value})}}),n.a.createElement("small",{class:"form-text text-muted"},"https://demo.smackcoders.com/vtiger")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnteryourUsername),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",value:e,className:"form-control",onChange:e=>{this.setState({username:e.target.value})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnterAccessKey),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",value:t,className:"form-control",onChange:e=>{this.setState({password:e.target.value})}}))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resethelpdesk",onClick:()=>N(this.afterReset.bind(this),"You want to Reset Helpdesk Configuration?",!0)},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),_(a,e,t,"vtigersupport","helpdesk_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 mr15"},this.context.language.Configure," your Vtiger")))}}i()(De,"contextType",o.a);class Te extends s.Component{constructor(...e){super(...e),i()(this,"state",{domain_url:"",username:"",password:"",loading:!1})}componentDidMount(){this.context.helpdeskConfigData&&this.setState(this.context.helpdeskConfigData)}onConfig(e){console.log("checking",e),e.data.success&&200==e.data.status?(this.setState({loading:!1}),P.b.success("Freshdesk Helpdesk Successfully Configured"),this.context.setIsHelpdeskConfigured(!0),this.context.setShowComponent("form-manage"),this.context.setCheckAddons({...this.context.checkAddons,helpdeskAddons:!0})):(this.setState({loading:!1}),P.b.error(e.data.message))}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedHelpdesk(""),this.context.setHelpdeskConfigData(""),this.context.setIsHelpdeskConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,helpdeskAddons:!1}))}render(){const{username:e,password:t,domain_url:a}=this.state,{isHelpdeskConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"Freshdesk Helpdesk Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.EnteryourHelpdeskUrl),n.a.createElement("input",{type:"text",id:"client-id",name:"domain_url",value:a,className:"form-control",onChange:e=>{this.setState({domain_url:e.target.value})}}),n.a.createElement("small",{class:"form-text text-muted"},"https://yourdomain.freshdesk.com")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnteryourUsername),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",value:e,className:"form-control",onChange:e=>{this.setState({username:e.target.value})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Enter Password"),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",value:t,className:"form-control",onChange:e=>{this.setState({password:e.target.value})}}))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resethelpdesk",onClick:()=>N(this.afterReset.bind(this),"You want to Reset Helpdesk Configuration?",!0)},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),_(a,e,t,"freshdesk","helpdesk_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 mr15"},this.context.language.Configure," your Freshdesk")))}}i()(Te,"contextType",o.a);class Re extends s.Component{constructor(...e){super(...e),i()(this,"state",{domain_url:"",username:"",password:"",loading:!1})}componentDidMount(){this.context.helpdeskConfigData&&this.setState(this.context.helpdeskConfigData)}onConfig(e){console.log("checking",e),e.data.success&&200==e.data.status?(this.setState({loading:!1}),P.b.success("Zendesk  Successfully Configured"),this.context.setIsHelpdeskConfigured(!0),this.context.setShowComponent("form-manage"),this.context.setCheckAddons({...this.context.checkAddons,helpdeskAddons:!0})):(this.setState({loading:!1}),P.b.error(e.data.message))}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedHelpdesk(""),this.context.setHelpdeskConfigData(""),this.context.setIsHelpdeskConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,helpdeskAddons:!1}))}render(){const{username:e,password:t,domain_url:a}=this.state,{isHelpdeskConfigured:s}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},"Zendesk Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.EnteryourHelpdeskUrl),n.a.createElement("input",{type:"text",id:"client-id",name:"domain_url",value:a,className:"form-control",onChange:e=>{this.setState({domain_url:e.target.value})}}),n.a.createElement("small",{class:"form-text text-muted"},"https://yourdomain.zendesk.com")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,this.context.language.EnteryourUsername),n.a.createElement("input",{type:"text",id:"client-secret",name:"username",value:e,className:"form-control",onChange:e=>{this.setState({username:e.target.value})}})),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",null,"Enter your Password"),n.a.createElement("input",{type:"text",id:"client-secret",name:"password",value:t,className:"form-control",onChange:e=>{this.setState({password:e.target.value})}}))),n.a.createElement("div",{className:"row justify-content-end"},s?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resethelpdesk",onClick:()=>N(this.afterReset.bind(this),"You want to Reset Helpdesk Configuration?",!0)},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),_(a,e,t,"zendesk","helpdesk_addon",this.onConfig.bind(this))},className:"btn btn-primary mt-4 mr15"},this.context.language.Configure," your Zendesk")))}}i()(Re,"contextType",o.a);class Me extends s.Component{constructor(...e){super(...e),i()(this,"state",{domain_url:"",username:"",password:"",callBackUrl:"",domain:".com",loading:!1})}componentDidMount(){this.callBackUrl(),this.context.helpdeskConfigData&&this.setState(this.context.helpdeskConfigData)}async callBackUrl(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_get_callback_url"}});e&&e.data&&200==e.data.status&&e.data.success&&(console.log("calls",e.data.response.callback_url),this.setState({callBackUrl:e.data.response.callback_url}))}catch(e){console.error(e)}}onConfig(e){if(console.log("checking",e),e.data.success&&200==e.data.status){this.setState({loading:!1});var t=e.data.response.redirect_url;window.open(t,"_self")}else;}afterReset(e){console.log(e),e.data.success&&200==e.data.status&&(P.b.success("Configuration Reset Successfully"),this.props.setSelectedHelpdesk(""),this.context.setHelpdeskConfigData(""),this.context.setIsHelpdeskConfigured(!1),this.context.setCheckAddons({...this.context.checkAddons,helpdeskAddons:!1}))}copyToClipboard(e){var t=document.getElementById("callback");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),alert("Copied the text: "+t.value)}render(){const{username:e,password:t,domain_url:a,domain:s}=this.state,{isHelpdeskConfigured:o}=this.context;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement(B.a,{id:"global","aria-haspopup":"true",role:"example"},n.a.createElement("div",null,n.a.createElement("ul",null,n.a.createElement("li",null,"Login in to desk.zoho.com"),n.a.createElement("li",null,"Go to setup icon on the top right corner"),n.a.createElement("li",null,"Click API under Developer Space"),n.a.createElement("li",null,"Scroll down and copy your Orgid")))),n.a.createElement("h3",{className:"setting-heading"},"Zoho Support Configuration")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Organisation Id"),n.a.createElement("div",{className:"d-flex",style:{position:"relative"}},n.a.createElement("input",{className:"w-100",style:{paddingRight:"40px"},type:"text",id:"Org-id",name:"Org-Id",value:a,className:"form-control",onChange:()=>{this.setState({domain_url:event.target.value})}}),this.state.organisationIdNote,n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":!0,"data-for":"global",style:{position:"absolute",top:"0px",right:"10px"}}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.ClientId),n.a.createElement("input",{type:"text",id:"client-id",name:"clientId",value:e,className:"form-control",onChange:()=>{this.setState({username:event.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.ClientSecret),n.a.createElement("input",{type:"text",id:"client-secret",name:"clientSecret",value:t,className:"form-control",onChange:()=>{this.setState({password:event.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.Callback),n.a.createElement("div",{className:"d-flex",style:{position:"relative"}},n.a.createElement("input",{className:"w-100",style:{paddingRight:"40px"},type:"text",id:"callback",name:"callback",placeholder:this.state.callBackUrl,value:this.state.callBackUrl,className:"form-control",disabled:!1,readonly:!0}),n.a.createElement("i",{class:"fa fa-files-o help-icon-align","aria-hidden":"true",style:{position:"absolute",top:"0px",right:"10px"},onClick:e=>{this.copyToClipboard(e)}}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Available Domains"),n.a.createElement("select",{className:"form-control",value:this.state.domain,onChange:()=>{this.setState({domain:event.target.value})}},n.a.createElement("option",{value:".com"},".com"),n.a.createElement("option",{value:".in"},".in"),n.a.createElement("option",{value:".eu"},".eu"),n.a.createElement("option",{value:".au"},".au"))),n.a.createElement("div",{className:"row justify-content-end"},o?n.a.createElement("button",{className:"btn btn-danger-secondary mt-4 mb-2 mr-3",id:"resetcrm",onClick:()=>N(this.afterReset.bind(this),"You want to Reset Helpdesk Configuration?",!0)},this.context.language.ResetConfiguration):"",this.state.loading?n.a.createElement("div",{className:"btn btn-info"},n.a.createElement("i",{className:"fa fa-circle-o-notch fa-spin mr10"}),"Please Wait"):n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),_(a,e,t,"zohosupport","helpdesk_addon",this.onConfig.bind(this),s)},className:"btn btn-primary mt-4 "},this.context.language.Configure," Zoho Support")))}}i()(Me,"contextType",o.a);const Pe={display:"flex",alignItems:"center",justifyContent:"space-between"},Ae={backgroundColor:"#EBECF0",borderRadius:"2em",color:"#172B4D",display:"inline-block",fontSize:12,fontWeight:"normal",lineHeight:"1",minWidth:1,padding:"0.16666666666667em 0.5em",textAlign:"center"};class Oe extends s.Component{constructor(...e){super(...e),i()(this,"state",{loading:!1,helpdeskFormsList:[],selectedHelpdesk:""}),i()(this,"formatGroupLabel",e=>n.a.createElement("div",{style:Pe},n.a.createElement("span",null,e.label),n.a.createElement("span",{style:Ae},e.options.length))),i()(this,"setSelectedHelpdesk",e=>{this.setState({selectedHelpdesk:e})})}componentDidMount(){this.setState({loading:!0}),this.fetchActiveHelpdeskList(),this.getConfiguredHelpdeskData()}async getConfiguredHelpdeskData(){this.setState({loading:!0});try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_get_configured_helpdesk"}});this.setState({loading:!1}),e&&e.data&&200==e.data.status&&e.data.success&&(console.log("getCongfiguredHelpdeskData",e),e.data.is_configured?(this.context.setIsHelpdeskConfigured(!0),this.context.setHelpdeskConfigData(e.data.response),this.setState({selectedHelpdesk:e.data.helpdesk},()=>{console.log("maki",this.state.selectedHelpdesk)})):this.context.setIsHelpdeskConfigured(!1))}catch(e){console.error(e)}}async fetchActiveHelpdeskList(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_get_active_help_addons_for_config"}});e&&e.data&&200==e.data.status&&e.data.success&&(console.log("list",e),this.setState({helpdeskFormsList:e.data.response.addon_list},()=>{console.log(this.state.helpdeskFormsList)}))}catch(e){console.error(e)}}render(){const{selectedHelpdesk:e}=this.state,{imagePath:t}=window.wpulb_wpr_object,{isHelpdeskConfigured:a}=this.context;return console.log(a),n.a.createElement(n.a.Fragment,null,this.state.loading?n.a.createElement("div",{className:"tab-containers container d-flex justify-content-center align-items-center",style:{minHeight:"300px"}},this.context.loaderText):n.a.createElement("div",{className:"tab-containers container helpdesk-config ".concat(a?"act":"")},n.a.createElement("div",{className:"mt-3 mb-3"},n.a.createElement("div",{className:"d-flex ".concat(e&&""!==e.value?"justify-content-between":"justify-content-end"," select-helpdesk-configuration align-items-center")},e&&""!==e.value?n.a.createElement("img",{style:{height:"40px"},src:"".concat(t).concat(e.value,".png")}):"",n.a.createElement("div",{className:"w-50 d-flex justify-content-end align-items-center"},n.a.createElement("label",{className:"mb0"},this.context.language.ChooseHelpdeskfromthelist),n.a.createElement(W.a,{className:"col-md-6 select",value:this.state.selectedHelpdesk,options:this.state.helpdeskFormsList,theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isDisabled:a,onChange:e=>{this.setState({selectedHelpdesk:e},()=>{console.log(this.state.selectedHelpdesk)})},formatGroupLabel:this.formatGroupLabel}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},"freshdesk"===e.value?n.a.createElement(Te,{setSelectedHelpdesk:this.setSelectedHelpdesk.bind(this)}):"vtigersupport"===e.value?n.a.createElement(De,{setSelectedHelpdesk:this.setSelectedHelpdesk.bind(this)}):"zendesk"===e.value?n.a.createElement(Re,{setSelectedHelpdesk:this.setSelectedHelpdesk.bind(this)}):"zohosupport"===e.value?n.a.createElement(Me,{setSelectedHelpdesk:this.setSelectedHelpdesk.bind(this)}):n.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{minHeight:"250px"}},n.a.createElement("div",{className:"icon-container primary"},n.a.createElement("div",{className:"icon-animation"},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"#ffffff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),n.a.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),n.a.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),n.a.createElement("rect",{x:"3",y:"14",width:"7",height:"7"})))),n.a.createElement("h1",{className:"main-heading text-gray-700 text-center"},"Please Choose Helpdesk from List"," ",n.a.createElement("br",null)," for Configuration")))))))}}i()(Oe,"contextType",o.a);class je extends s.Component{constructor(e){super(e),i()(this,"handleChange",e=>{this.setState({[e.target.id]:e.target.value},()=>{console.log("state",this.state)}),console.log(e)}),this.state={loading:!1,crmFieldsList:"",fieldTypeList:[],groupTypeList:[],customLabel:"",fieldType:"",groupType:{label:"Basic Information",value:1},mandatory:!1,fieldCheck:{},multiSelect:[]},this.groupList=[]}componentDidMount(){this.fetchCRMFields(),this.fetchFieldTypeList()}async handleCheck(e,t){console.log(e.target.checked);var a="";a=e.target.checked?"Active":"Inactive",this.state.fieldCheck["".concat(t.id)]=a,this.setState({fieldCheck:this.state.fieldCheck});var s=new FormData;s.set("action","wpulb_change_status"),s.set("field_id",t.id),s.set("status",e.target.checked);try{const e=await r()({method:"post",url:ajaxurl,data:s,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(e),P.b.success(e.data.message),console.log("data not found")}catch(e){console.log(e)}}async addFields(){var e=new FormData;if(e.set("action","wpulb_save_local_crm_field"),e.set("field_label",this.state.customLabel),e.set("field_type",this.state.fieldType.value),"Select"===this.state.fieldType.value||"Multi-Select"===this.state.fieldType.value){const t=[],{multiSelect:a}=this.state;for(let e=0;e<a.length;e++)t[e]=a[e];console.log(t),e.set("field_values",JSON.stringify(t))}e.set("group_id",this.state.groupType.value),e.set("is_mandatory",this.state.mandatory),e.set("is_custom_field","yes");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),P.b.success(t.data.message),200===t.data.status&&t.data.success&&(this.setState({loading:!1}),this.fetchCRMFields(),this.fetchFieldTypeList()),document.getElementById("modal_close").click(),console.log("data not found")}catch(e){console.log(e)}}async fetchCRMFields(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_get_local_crm_field_list"}});if(e&&e.data){const t={};e.data.response.fields_by_grouping.map(e=>{e.field_group.map(e=>{t["".concat(e.id)]=e.is_active})}),this.setState({crmFieldsList:e.data.response.fields_by_grouping,fieldCheck:t},()=>{console.log(this.state.fieldCheck)})}}catch(e){console.error(e)}}async fetchFieldTypeList(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_create_local_crm_custom_field"}});console.log(e),e&&e.data&&this.setState({fieldTypeList:e.data.response.field_types,groupTypeList:e.data.response.groups},()=>{console.log(this.state.groupTypeList)})}catch(e){console.error(e)}}addMultiOptions(){this.state.multiSelect.push(""),this.setState({multiSelect:this.state.multiSelect})}onSelectOptionChange(e,t){this.state.multiSelect[t]=e,this.setState({multiSelect:this.state.multiSelect},()=>{console.log(this.state.multiSelect)})}deleteMultiOption(e){console.log(e),this.state.multiSelect.length<=1?P.b.info("Must have 1 Option in Select"):(this.state.multiSelect.splice(e,1),this.setState({multiSelect:this.state.multiSelect},()=>{console.log(this.state.multiSelect)}))}async deleteFields(e,t){var a=new FormData;a.set("action","wpulb_delete_field"),a.set("field_id",e.id);try{const e=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log(e),e&&e.data)return void(e.data.success&&200==e.data.status?(P.b.success(e.data.message),this.fetchCRMFields()):P.b.error(e.data.message));console.log("data not found")}catch(e){console.log(e)}}render(){const e={pointerEvents:"none",opacity:"0.5"},t={pointerEvents:"auto"};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"px-5 w-100"},n.a.createElement("h1",{className:"main-heading my-4"},this.context.language.DataBucketFields),n.a.createElement("div",{className:"form-group fieldset-height crmsettings"},""!=this.state.crmFieldsList?this.state.crmFieldsList.map((e,t)=>n.a.createElement("div",{className:"fieldset"},n.a.createElement("h2",null,e.group_name),""!=e.field_group?n.a.createElement("div",{className:"leads-builder-crm-fields"},e.field_group.map((e,t)=>n.a.createElement("div",{className:"leads-builder-crm-field checkbox"},n.a.createElement("input",{type:"checkbox",checked:"Active"==this.state.fieldCheck["".concat(e.id)],id:"".concat(e.field_name,"_").concat(e.group_id),onClick:t=>{this.handleCheck(t,e)}}),n.a.createElement("label",{htmlFor:"".concat(e.field_name,"_").concat(e.group_id)},e.field_label),n.a.createElement("div",{className:"action"},n.a.createElement("a",{"data-toggle":"tooltip","data-placement":"top","tooltip-title":"Delete",onClick:a=>{k(e,t,this.deleteFields.bind(this),"You want to delete this Field ?")}},n.a.createElement("i",{className:"icon-trash text-danger","aria-hidden":"true"})))))):"")):n.a.createElement("p",null,"No Fields Found"))),n.a.createElement("div",{className:"d-flex justify-content-end my-4 w-100 px-5"},n.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#custom-field-modal"},"Create Custom Field")),n.a.createElement("div",{className:"modal fade",id:"custom-field-modal"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h2",{className:"main-heading "},"Create Custom Field"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",id:"modal_close"},"×")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"custom_field_label"},"Enter Field Label"),n.a.createElement("input",{type:"text",id:"customLabel",value:this.state.customLabel,className:"form-control",onChange:this.handleChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Field Type"),n.a.createElement(W.a,{className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),defaultValue:this.state.fieldType,value:this.state.fieldType,onChange:e=>{this.setState({fieldType:e},()=>{console.log(this.state.fieldType)})},options:v(this.state.fieldTypeList)})),"Select"===this.state.fieldType.value||"Multi-Select"===this.state.fieldType.value?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"d-flex justify-content-between align-items-center"},n.a.createElement("span",null,"Add Options"),n.a.createElement("button",{type:"button",onClick:()=>{this.addMultiOptions()},className:"btn btn-secondary px-2 py-1"},n.a.createElement("i",{className:"icon-plus"}))),n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Options"),n.a.createElement("th",{className:"text-center"},"Action"))),n.a.createElement("tbody",null,0!=this.state.multiSelect.length?this.state.multiSelect.map((a,s)=>n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("input",{type:"text",className:"form-control",value:a,onChange:e=>{this.onSelectOptionChange(e.target.value,s)}})),n.a.createElement("td",{className:"text-center"}," ",n.a.createElement("a",{style:this.state.multiSelect.length<=1?e:t,"data-toggle":"tooltip","data-placement":"top","tooltip-title":"Delete",onClick:()=>{this.deleteMultiOption(s)},href:"#"},n.a.createElement("i",{className:"icon-trash text-danger","aria-hidden":"true"}))))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2",className:"text-center border-bottom text-danger"},"No Options"))))),n.a.createElement("hr",null)):"",n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:""},"Group Type"),n.a.createElement(W.a,{className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),defaultValue:{label:"Basic Information",value:1},value:this.state.groupType,onChange:e=>{this.setState({groupType:e})},options:this.state.groupTypeList})),n.a.createElement("div",{className:"form-group fieldset-ios d-flex my-5 debug-mode"},n.a.createElement("label",{for:"mandatory"},"Active"),n.a.createElement("input",{type:"checkbox",className:"ios-switch",checked:this.state.mandatory,onClick:()=>{this.setState({mandatory:event.target.checked})},id:"mandatory"}),n.a.createElement("label",{className:"switch-ios m-0 ml-3",for:"mandatory"},n.a.createElement("i",null))),n.a.createElement("div",{className:"form-group mt40 "},n.a.createElement("div",{className:"float-right"},n.a.createElement("button",{type:"button",className:"btn btn-primary btn-create-custom-field",name:"",onClick:()=>{this.setState({loading:!0}),this.addFields()}},this.state.loading?this.context.btnLoader:"Add Field"))))))))))}}i()(je,"contextType",o.a);class Be extends s.Component{constructor(...e){super(...e),i()(this,"state",{loading:!1,groupList:"",groupName:""})}componentDidMount(){this.fetchGroupList()}async addGroups(){var e=new FormData;e.set("action","wpulb_save_group"),e.set("group_name",this.state.groupName),this.setState({loading:!0});try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log(t),this.setState({loading:!1}),t&&t.data){if(t.data.success&&200==t.data.status)return void P.b.success(t.data.message);P.b.error(t.data.message)}console.log("data not found")}catch(e){console.log(e)}}async fetchGroupList(){try{const e=await r.a.get(ajaxurl,{params:{action:"wpulb_list_group"}});e&&e.data&&this.setState({groupList:e.data.response},()=>{console.log(this.state.groupList)})}catch(e){console.error(e)}}async editGroup(e){console.log(e);try{const t=await r.a.get(ajaxurl,{params:{action:"wpulb_get_group",group_id:e}});console.log(t),t&&t.data}catch(e){console.error(e)}}async deleteGroup(e,t){event.preventDefault();var a=new FormData;a.set("action","wpulb_delete_group"),a.set("group_id",e.id);try{const e=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log(e),e&&e.data)return void(e.data.success&&200==e.data.status?(P.b.success(e.data.message),this.fetchGroupList()):P.b.error(e.data.message));console.log("data not found")}catch(e){console.log(e)}}render(){const e=!!this.state.loading&&"disabled";return n.a.createElement("div",{className:"px-5 w-100"},n.a.createElement("h1",{className:"main-heading my-4"},this.context.language.GroupSettings),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{class:"fieldset"},n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,this.context.language.GROUPNAME),n.a.createElement("th",{className:"text-center"},"Action"))),n.a.createElement("tbody",null,""!=this.state.groupList?this.state.groupList.map((e,t)=>n.a.createElement("tr",null,n.a.createElement("td",{className:"text-left"},e.group_name),n.a.createElement("td",{className:"text-center"},n.a.createElement("a",{"data-toggle":"tooltip","data-placement":"top","tooltip-title":"Delete",onClick:a=>{k(e,t,this.deleteGroup.bind(this),n.a.createElement("div",null,"You want to delete this Group.",n.a.createElement("span",{className:"font-weight-bold text-info"}," This Group has ",e.count," Fields ?")))}},n.a.createElement("i",{className:"icon-trash text-danger","aria-hidden":"true"}))))):n.a.createElement("tr",null,n.a.createElement("td",{className:"text-danger",colSpan:"2"},"No group Found"))))))),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"fieldset"},n.a.createElement("h1",{className:"main-heading"},this.context.language.AddGroup),n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{for:"custom_field_label"},this.context.language.EnterGroupName),n.a.createElement("input",{type:"text",id:"customLabel",value:this.state.groupName,className:"form-control",onChange:e=>{this.setState({groupName:e.target.value})}})),n.a.createElement("div",{className:"form-group mt40 "},n.a.createElement("div",{className:"float-right"},n.a.createElement("button",{type:"button",className:"btn btn-primary btn-create-custom-field",name:"",disabled:e,onClick:()=>{this.addGroups()}},this.state.loading?this.context.btnLoader:"Add Group Name"))))))))}}i()(Be,"contextType",o.a);class Ve extends s.Component{constructor(...e){super(...e),i()(this,"state",{timeList:[],isEnabled:"",configuredTime:""})}componentDidMount(){this.getSchedule()}async getSchedule(){var e=new FormData;e.set("action","wpulb_get_schedule_configuration");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});t&&t.data&&200==t.data.status&&t.data.success&&(console.log(t),this.setState({timeList:t.data.response.timings,isEnabled:t.data.response.configuration.is_configured,configuredTime:t.data.response.configuration.configured_time},()=>{console.log("value1,value2",this.state.timeList+" "+this.state.isEnabled+" "+this.state.configuredTime)}))}catch(e){console.log(e)}}async scheduleDate(e=!1){let t=this.state.isEnabled.toString();try{var a=new FormData;a.set("action","wpulb_get_schedule_status"),a.set("enabled",t),a.set("time",this.state.configuredTime.value);const s=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("TIMEVALUE",s),e&&P.b.success("Schedule Time Updated Successfully")}catch(e){console.log(e)}}render(){const{timeList:e,isEnabled:t,configuredTime:a}=this.state;return n.a.createElement("div",{className:"px-5 w-100 schedule"},n.a.createElement(B.a,{id:"soclose",getContent:e=>n.a.createElement("div",{style:{maxWidth:"150px"}},n.a.createElement("p",null,e)),effect:"solid",delayHide:500,delayShow:500,delayUpdate:500,place:"right",border:!0,type:"dark"}),n.a.createElement("div",{className:"row justify-content-between my-4"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h1",{className:"main-heading "},this.context.language.ScheduleSettings)),n.a.createElement("div",{className:"col-md-10"},n.a.createElement("div",{class:"form-group fieldset-ios notify-head pt10"},n.a.createElement("label",{for:"enable"},this.context.language.EnableSchedule),n.a.createElement("input",{type:"checkbox",class:"ios-switch",id:"enable",checked:t,onClick:e=>this.setState({isEnabled:e.target.checked},()=>{this.scheduleDate()})}),n.a.createElement("label",{class:"switch-ios switch-check mt10",for:"enable"},n.a.createElement("i",null))),n.a.createElement("div",{className:" mt-2 pb-4"},n.a.createElement("label",null,this.context.language.ScheduleTime),n.a.createElement("div",{className:"d-flex"},n.a.createElement(W.a,{className:"w-100 select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isDisabled:!t,id:"schedule_time",value:a,options:e,onChange:e=>this.setState({configuredTime:e},()=>{console.log("val",this.state.configuredTime),this.scheduleDate(!0)})}),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Specify the schedule time."}))))))}}i()(Ve,"contextType",o.a);class Ie extends s.Component{constructor(...e){super(...e),i()(this,"state",{captchaEnable:!1,logList:[],emailField:"",privateKey:"",publicKey:"",logValue:[],errors:""})}componentDidMount(){this.getLogList(),this.getConfiguredValues()}captcha(e){console.log(e)}async getLogList(){var e=new FormData;e.set("action","wpulb_form_log_options");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),this.setState({logList:t.data.response.options})}catch(e){console.log(e)}}async sendData(){if(this.state.captchaEnable&&(""==this.state.publicKey||""==this.state.privateKey))return""==this.state.publicKey&&""==this.state.privateKey?void P.b.info("Please enter the Google Recaptcha Public Key and Private Key"):(""==this.state.publicKey&&P.b.info("Please enter the Google Recaptcha Public Key"),void(""==this.state.privateKey&&P.b.info("Please enter the Google Recaptcha Private Key")));var e=new FormData;e.set("action","wpulb_form_settings"),e.set("log",this.state.logValue.value),e.set("email",this.state.emailField),e.set("captcha",this.state.captchaEnable),this.state.captchaEnable&&(e.set("public_key",this.state.publicKey),e.set("private_key",this.state.privateKey));try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),P.b.success(t.data.message)}catch(e){console.log(e)}}async getConfiguredValues(){var e=new FormData;e.set("action","wpulb_get_configured_form_settings");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});this.setState({captchaEnable:t.data.response.captcha_details.captcha,privateKey:t.data.response.captcha_details.private_key,publicKey:t.data.response.captcha_details.public_key,emailField:t.data.response.email,logValue:t.data.response.log},()=>{})}catch(e){console.log(e)}}render(){const{captchaEnable:e,logList:t,privateKey:a,publicKey:s,emailField:o,logValue:l}=this.state;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"default-form col-md-12"},n.a.createElement(B.a,{id:"soclose",getContent:e=>n.a.createElement("div",{style:{maxWidth:"150px"}},n.a.createElement("p",null,e)),effect:"solid",delayHide:500,delayShow:500,delayUpdate:500,place:"right",border:!0,type:"dark"}),n.a.createElement("h1",{className:"main-heading mt-4 ml-5"},this.context.language.DefaultFormLogandCaptchaSettings),n.a.createElement("div",{className:"row mt-3 px-5 justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("label",null,this.context.language.WhichLogDoYouNeed),n.a.createElement("div",{className:"d-flex"},n.a.createElement(W.a,{className:"w-100 select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),options:t,onChange:e=>this.setState({logValue:e},()=>{console.log(this.state.logValue)}),value:l}),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Select success, failure or both logs you need",onClick:e=>{console.log("Event",e),(void 0)(e,"Lorem Ipsum is simply dummy text of the printing and typesetting industry")}})),n.a.createElement("div",{className:"my-4"},n.a.createElement("label",null,this.context.language.SpecifyEmail),n.a.createElement("div",{className:"d-flex"},n.a.createElement("input",{type:"text",className:"form-control",onChange:e=>this.setState({emailField:e.target.value},()=>{console.log(this.state.emailField)}),value:o}),n.a.createElement("span",{style:{color:"red"}},this.state.errors),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Specify the email id"}))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"row px-5 mb-4 justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("label",null,this.context.language.DoYouWanttoEnabletheCaptcha),n.a.createElement("div",{className:" form-group fieldset-ios"},n.a.createElement("input",{type:"checkbox",class:"ios-switch",id:"enable",checked:e,onClick:e=>this.setState({captchaEnable:e.target.checked},()=>{})}),n.a.createElement("label",{class:"switch-ios switch-check mt10",for:"enable"},n.a.createElement("i",null))),e?n.a.createElement(n.a.Fragment,null,n.a.createElement(B.a,{id:"soclose",getContent:e=>n.a.createElement("div",{style:{maxWidth:"150px"}},n.a.createElement("p",null,e)),effect:"solid",delayHide:500,delayShow:500,delayUpdate:500,place:"right",border:!0,type:"dark"}),n.a.createElement("div",{className:" my-3"},n.a.createElement("label",null,this.context.language.GoogleRecaptchaPublicKey),n.a.createElement("div",{className:"d-flex"},n.a.createElement("input",{type:"text",className:"form-control",onChange:e=>this.setState({publicKey:e.target.value},()=>{console.log(this.state.publicKey)}),value:s}),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Specify the google recaptcha public key"}))),n.a.createElement("div",null,n.a.createElement("label",null,this.context.language.GoogleRecaptchaPrivateKey),n.a.createElement("div",{className:"d-flex"},n.a.createElement("input",{type:"text",className:"form-control",onChange:e=>this.setState({privateKey:e.target.value},()=>{console.log(this.state.privateKey)}),value:a}),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":"Specify the google recaptcha private key"})))):"",n.a.createElement("div",{className:"row my-4 pull-right"},n.a.createElement("button",{type:"button",className:"btn btn-secondary ",onClick:()=>this.sendData()},this.context.language.Save))))))}}i()(Ie,"contextType",o.a);class We extends s.Component{constructor(e){super(e),this.state={loading:!1,migrationEnabled:!1,formList:[],selectedFormList:[],enableAllForms:!1,syncStart:0,syncOffset:10,syncedCount:0,totalSyncCount:0,syncLimit:0,btnLoading:!1,disableCheckAll:!1},this.groupList=[],this.limit=0}componentDidMount(){this.getConfiguredMigration()}async getConfiguredMigration(){var e=new FormData;e.set("action","wpulb_get_configured_migration");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("Get Configured Migration",t),200===t.data.status&&t.data.success&&this.setState({migrationEnabled:t.data.response.migration_active}),t.data.response.migration_active&&this.fetchFormLists()}catch(e){console.log(e)}}async fetchFormLists(){var e=new FormData;e.set("action","wpulb_available_databucket_forms"),e.set("migration",this.state.migrationEnabled?"true":"false");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),this.state.formList=t.data.response.databucket_forms;const a=this.state.formList.map(e=>({...e,checked:!1}));this.state.formList=a,console.log("Check Inserted form List",this.state.formList),this.setState({formList:this.state.formList})}catch(e){console.log(e)}}async sendFormList(){console.log("Send Form List",this.state.formList);const e=this.state.formList.map(e=>({form_name:e.label,form_id:e.value,type:e.type,checked:e.checked}));this.state.selectedFormList=e;const t=this.state.selectedFormList.filter(e=>!0===e.checked&&delete e.checked);console.log("removed list",t);var a=new FormData;a.set("action","wpulb_migrate_existing_forms"),a.set("forms",JSON.stringify(t)),a.set("wp_start",this.state.syncStart),a.set("wp_offset",this.state.syncOffset),a.set("synced_count",this.state.syncedCount);try{const e=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(e),""===e.data.response&&this.setState({btnLoading:!1}),!1===e.data.success?P.b.info(e.data.message):this.setState({syncStart:e.data.response.sync_status.start,syncedCount:e.data.response.sync_status.synced_count,totalSyncCount:e.data.response.sync_status.total_count,syncLimit:e.data.response.sync_status.forms_within_limit},()=>{this.limit=this.limit+this.state.syncLimit,0!==this.state.syncLimit&&P.b.info(e.data.message),this.limit!==this.state.totalSyncCount?this.sendFormList():this.setState({btnLoading:!1})})}catch(e){console.log(e)}}render(){const{migrationEnabled:e,formList:t}=this.state;return n.a.createElement("div",{className:"px-5 w-100 schedule"},n.a.createElement("div",{className:"row justify-content-between my-4"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("h1",{className:"main-heading "},this.context.language.MigrationSettings)),n.a.createElement("div",{className:"row px-5 mb-4 justify-content-center"},n.a.createElement("div",{className:"col-md-10"},n.a.createElement("div",{class:"form-group fieldset-ios notify-head pt10"},n.a.createElement("label",{className:"w-100",for:"enable"}," ",this.context.language.Doyouwanttomigratedatabucket," "),n.a.createElement("input",{type:"checkbox",class:"ios-switch",id:"enable",checked:e,onClick:e=>this.setState({migrationEnabled:e.target.checked},()=>{this.fetchFormLists()})}),n.a.createElement("label",{class:"switch-ios switch-check mt10",style:{right:"0px"},for:"enable"},n.a.createElement("i",null))))),e?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement("h1",{className:"main-heading"},this.context.language.DataBucketFormsList)),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,n.a.createElement("input",{type:"checkbox",checked:this.state.disableCheckAll,onClick:e=>{this.state.formList=this.state.formList.map(t=>({label:t.label,value:t.value,type:t.type,checked:e.target.checked})),console.log("Checked Form List",this.state.formList),this.setState({formList:this.state.formList,disableCheckAll:e.target.checked})}})),n.a.createElement("th",null,this.context.language.FORMTYPE),n.a.createElement("th",null,this.context.language.FORMNAME))),n.a.createElement("tbody",null,0!=t.length?t.map((e,t)=>n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("input",{type:"checkbox",checked:e.checked,onChange:e=>{this.state.formList=this.state.formList.map((a,s)=>t!=s?{label:a.label,value:a.value,type:a.type,checked:a.checked}:{label:a.label,value:a.value,type:a.type,checked:e.target.checked}),this.setState({formList:this.state.formList}),e.target.checked||this.setState({disableCheckAll:!1})}})),n.a.createElement("td",null,e.label),n.a.createElement("td",null,e.type))):""))),0!=t.length?n.a.createElement("div",{className:"row my-4 pull-right"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:e=>{this.setState({btnLoading:!0},()=>{this.sendFormList()})}},this.state.btnLoading?this.context.btnLoader:this.context.language.SyncDataToCRM)):""):""))}}i()(We,"contextType",o.a);class Ue extends s.Component{constructor(...e){super(...e),i()(this,"state",{settingsTab:"crm-settings"}),i()(this,"settingMenu",e=>{console.log(e.target.id),this.setState({settingsTab:e.target.id})})}render(){return n.a.createElement("div",{className:"settings tab-containers container"},n.a.createElement("div",{className:"setting-container row justify-content-center"},n.a.createElement("div",{className:"setting-tab-section col-sm-4 col-md-3"},n.a.createElement("ul",{className:"setting-tab"},n.a.createElement("li",{id:"crm-settings",onClick:this.settingMenu,"data-setting":"setting-tabpane-crm-settings",className:"setting-tab-list ".concat("crm-settings"===this.state.settingsTab?"active":""," ")},n.a.createElement("i",{className:"icon-settings"})," ",this.context.language.DataBucketssettings),n.a.createElement("li",{id:"default-form-settings",onClick:this.settingMenu,"data-setting":"setting-tabpane1",className:"setting-tab-list ".concat("default-form-settings"===this.state.settingsTab?"active":""," ")},n.a.createElement("i",{className:"icon-settings","aria-hidden":"true"})," ","Default Form Settings"),n.a.createElement("li",{id:"groups",onClick:this.settingMenu,"data-setting":"setting-tabpane1",className:"setting-tab-list ".concat("groups"===this.state.settingsTab?"active":""," ")},n.a.createElement("i",{className:"icon-settings","aria-hidden":"true"})," ",this.context.language.GroupSettings),n.a.createElement("li",{id:"migration",onClick:this.settingMenu,"data-setting":"setting-tabpane1",className:"setting-tab-list ".concat("migration"===this.state.settingsTab?"active":""," ")},n.a.createElement("i",{className:"icon-settings","aria-hidden":"true"})," ",this.context.language.DataBucketMigrationSettings))),n.a.createElement("div",{className:"col-sm-8 col-md-9"},n.a.createElement("div",{className:"row"},"crm-settings"===this.state.settingsTab?n.a.createElement(je,null):"default-form-settings"===this.state.settingsTab?n.a.createElement(Ie,null):"groups"===this.state.settingsTab?n.a.createElement(Be,null):"general"===this.state.settingsTab?n.a.createElement("h1",null,"hai"):"schedule"===this.state.settingsTab?n.a.createElement(Ve,null):"migration"===this.state.settingsTab?n.a.createElement(We,null):""))))}}i()(Ue,"contextType",o.a);var He=a(96),Ke=a.n(He);class qe extends s.Component{constructor(e){super(e),this.state={count:0,setMarketPlacePage:!1,firstName:"",lastName:"",country:"AD",State:"",phone:"",email:"",errors:"",checked:"false"},this.choosenAddons=[{productName:"vtigercrm",productPrice:"30"},{productName:"joforcecrm",productPrice:"30"},{productName:"suitecrm",productPrice:"30"}],this.cartProductTotal=0,this.selectedProductSlugs=[]}componentDidMount(){console.log("Cart Lists",this.context.cartProductLists),this.selectedProductSlugs=this.context.cartProductLists.map((e,t)=>e.product_slug)}async sendBillingDetails(){if(console.log("Inside Send Billing Details"),""===this.state.firstName||""===this.state.phone||""===this.state.email||""!==this.state.errors||0==this.selectedProductSlugs.length)""===this.state.fullName&&P.b.info("Kindly fill the First Name"),""===this.state.lastName&&P.b.info("Kindly fill the Last Name"),""===this.state.phone&&P.b.info("Kindly fill the Phone Number"),""===this.state.email&&P.b.info("Kindly fill the Email Field"),""!==this.state.errors&&P.b.info("kindly enter a valid Email ID"),0==this.selectedProductSlugs.length&&P.b.info("Kindly go back and add the Addons");else{for(var e="",t=0;t<this.selectedProductSlugs.length;t++)t<this.selectedProductSlugs.length-1?e=e+this.selectedProductSlugs[t]+",":e+=this.selectedProductSlugs[t];var a="https://www.smackcoders.com/checkout.html?token=external-call&license_domain=".concat(this.context.domainName,"&product_slugs=").concat(e,"&billing_first_name=").concat(this.state.firstName,"&billing_last_name=").concat(this.state.lastName,"&billing_email=").concat(this.state.email);console.log("Url",a),console.log("Full Name",this.state.firstName),console.log("Country",Ke.a.countries[this.state.country].name),console.log("State",this.state.State),console.log("Phone",this.state.phone),console.log("email",this.state.email);var s=new FormData;s.set("action","wpulb_send_billing_details"),s.set("firstname",this.state.firstName),s.set("lastName",this.state.lastName),s.set("country",Ke.a.countries[this.state.country].name),s.set("state",this.state.State),s.set("phone",this.state.phone),s.set("email",this.state.email);try{const e=await r()({method:"post",url:ajaxurl,data:s,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(e)}catch(e){console.log(e)}window.open(a)}}handleValidation(e){let t=!0;return""===e&&(t=!1),void 0!==e&&(t=!!new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(e)),t}render(){this.state.count=this.state.count+1;const e=Object.keys(Ke.a.countries);return this.state.setMarketPlacePage?n.a.createElement(Ge,null):this.context.addtoCart?n.a.createElement("div",{className:"tab-containers addcart-page p30"},n.a.createElement("div",{className:"woocommerce-addcart-review-order"},n.a.createElement("h1",null,"Cart"),n.a.createElement("table",{className:"shop_table woocommerce-checkout-review-order-table"},n.a.createElement("thead",null),n.a.createElement("tbody",null,this.context.cartProductLists.map((e,t)=>(1==this.state.count&&(this.cartProductTotal=parseInt(e.product_price)+this.cartProductTotal),n.a.createElement("tr",{className:"cart_item"},n.a.createElement("td",{className:"product-name"},n.a.createElement("img",{src:"".concat(window.wpulb_wpr_object.imagePath).concat(e.product_image),alt:"",style:{height:"25px",width:"50px",paddingRight:"20px"}}),e.product_name),n.a.createElement("td",{className:"product-total"},n.a.createElement("span",{className:"woocommerce-Price-amount amount"},n.a.createElement("span",{class:"woocommerce-Price-currencySymbol"},"$"),e.product_price)),n.a.createElement("span",{className:"close-icon1",onClick:a=>{this.context.cartProductLists.splice(t,1),this.context.setCartProductLists(this.context.cartProductLists),this.cartProductTotal=this.cartProductTotal-parseInt(e.product_price)}},n.a.createElement(ze,null)))))),n.a.createElement("tfoot",null,n.a.createElement("tr",{className:"order-total"},n.a.createElement("th",null,"Total"),n.a.createElement("td",null,n.a.createElement("strong",null,n.a.createElement("span",{className:"woocommerce-Price-amount amount"},n.a.createElement("span",{className:"woocommerce-Price-currencySymbol"},"$"),this.cartProductTotal)))))),n.a.createElement("div",{class:"col"},n.a.createElement("button",{className:"back-btn",onClick:e=>{this.context.setaddtocart(!1),this.setState({setMarketPlacePage:!0})}},this.context.language.Back),n.a.createElement("button",{className:"checkout-btn float-right",onClick:e=>{this.context.setaddtocart(!1),this.setState({setMarketPlacePage:!1})}},this.context.language.Checkout)))):n.a.createElement("div",{className:"tab-containers container p20"},n.a.createElement("div",{style:{paddingTop:"50px",paddingBottom:"50px",paddingLeft:"80px",margin:"0",maxWidth:"960px"}},n.a.createElement("div",{className:"woocommerce"},n.a.createElement("div",null,n.a.createElement("form",{className:"checkout",method:"post",class:"checkout woocommerce-checkout"},n.a.createElement("div",{className:"col2-set",id:"customer_details"},n.a.createElement("div",{className:"col-1"},n.a.createElement("div",{className:"woocommerce-billing-fields"},n.a.createElement("h1",null,"Purchase details"),n.a.createElement("div",{className:"woocommerce-billing-fields__field-wrapper"},n.a.createElement("p",{className:"form-row form-row-first validate-required woocommerce-invalid woocommerce-invalid-required-field",id:"billing_first_name_field","data-priority":"10"},n.a.createElement("label",{for:"billing_first_name",className:""},this.context.language.FirstName,n.a.createElement("abbr",{className:"required",title:"required"},"*")),n.a.createElement("input",{type:"text",className:"input-text",name:"billing_first_name",id:"billing_first_name",placeholder:"",value:"",autocomplete:"given-name",autofocus:"autofocus",value:this.state.firstName,onChange:e=>{this.setState({firstName:e.target.value})}})),n.a.createElement("p",{className:"form-row form-row-last validate-required",id:"billing_last_name_field","data-priority":"20"},n.a.createElement("label",{for:"billing_last_name",className:""},this.context.language.LastName,n.a.createElement("abbr",{className:"required",title:"required"},"*")),n.a.createElement("input",{type:"text",className:"input-text",name:"billing_last_name",id:"billing_last_name",placeholder:"",value:"",autocomplete:"family-name",value:this.state.lastName,onChange:e=>{this.setState({lastName:e.target.value})}})),n.a.createElement("p",{className:"form-row form-row-wide address-field update_totals_on_change validate-required woocommerce-validated",id:"billing_country_field","data-priority":"40"},n.a.createElement("label",{for:"billing_country",className:""},this.context.language.Country,n.a.createElement("abbr",{className:"required",title:"required"},"*")),n.a.createElement("select",{name:"billing_country",id:"billing_country",className:"input-text",autocomplete:"country",tabindex:"-1","aria-hidden":"true",value:this.state.country,onChange:e=>{this.setState({country:e.target.value})}},e.map((e,t)=>n.a.createElement("option",{value:e},Ke.a.countries[e].name)))),n.a.createElement("p",{className:"form-row form-row-wide address-field validate-state",id:"billing_state_field","data-priority":"80","data-o_className":"form-row form-row-wide address-field validate-state"},n.a.createElement("label",{for:"billing_state",className:""},this.context.language.State),n.a.createElement("input",{type:"text",className:"input-text",value:"",placeholder:"",name:"billing_state",id:"billing_state",autocomplete:"address-level1",value:this.state.State,onChange:e=>{this.setState({State:e.target.value})}})),n.a.createElement("p",{className:"form-row form-row-first validate-required validate-phone",id:"billing_phone_field","data-priority":"100"},n.a.createElement("label",{for:"billing_phone",className:""},this.context.language.Phone,n.a.createElement("abbr",{className:"required",title:"required"},"*")),n.a.createElement("input",{type:"tel",className:"input-text",name:"billing_phone",id:"billing_phone",placeholder:"",value:"",autocomplete:"tel",value:this.state.phone,onChange:e=>{this.setState({phone:e.target.value})}})),n.a.createElement("p",{className:"form-row form-row-last validate-required validate-email woocommerce-validated",id:"billing_email_field","data-priority":"110"},n.a.createElement("label",{for:"billing_email",className:""},"Email address",n.a.createElement("abbr",{className:"required",title:"required"},"*")),n.a.createElement("input",{type:"email",className:"input-text",name:"billing_email",id:"billing_email",placeholder:"",value:"",autocomplete:"email username",value:this.state.email,onChange:e=>{this.setState({email:e.target.value},()=>{this.handleValidation(this.state.email)?this.setState({errors:""}):this.setState({errors:"Email is not Valid"})})}}),n.a.createElement("p",{style:{color:"red"}},this.state.errors))))),n.a.createElement("div",{className:"col-2"},n.a.createElement("div",{className:"woocommerce-shipping-fields"}),n.a.createElement("div",{id:"order_review",className:"woocommerce-checkout-review-order"},n.a.createElement("table",{className:"shop_table woocommerce-checkout-review-order-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"product-name"},"Product"),n.a.createElement("th",{className:"product-total"},"Total"))),n.a.createElement("tbody",null,this.context.cartProductLists.map((e,t)=>(1==this.state.count&&(this.cartProductTotal=parseInt(e.product_price)+this.cartProductTotal),n.a.createElement("tr",{className:"cart_item"},n.a.createElement("td",{className:"product-name"},e.product_name),n.a.createElement("td",{className:"product-total"},n.a.createElement("span",{className:"woocommerce-Price-amount amount"},n.a.createElement("span",{class:"woocommerce-Price-currencySymbol"},"$"),e.product_price)),n.a.createElement("span",{className:"close-icon",onClick:a=>{this.context.cartProductLists.splice(t,1),this.context.setCartProductLists(this.context.cartProductLists),this.cartProductTotal=this.cartProductTotal-parseInt(e.product_price)}},n.a.createElement(ze,null)))))),n.a.createElement("tfoot",null,n.a.createElement("tr",{className:"order-total"},n.a.createElement("th",null,"Total"),n.a.createElement("td",null,n.a.createElement("strong",null,n.a.createElement("span",{className:"woocommerce-Price-amount amount"},n.a.createElement("span",{className:"woocommerce-Price-currencySymbol"},"$"),this.cartProductTotal)))))),n.a.createElement("div",{className:"get-approve"},n.a.createElement("ul",null,n.a.createElement("li",null,"what happens if Go to Checkout is clicked"),n.a.createElement("li",null,"Coupons can be applied in next page"),n.a.createElement("li",null,"Can chose right payment option "),n.a.createElement("li",null,"Can register an account or login if already have one")),n.a.createElement("input",{id:"box",type:"checkbox",className:"checkbox",style:{height:"1rem",width:"1rem"},value:"false"==this.state.checked?"true":"false",onClick:e=>{this.setState({checked:e.target.value}),console.log("checkvalue",e.target.value)}}),"I Understand",n.a.createElement("button",{type:"button",className:"btn btn-primary",id:"place_order",value:"Place order",disabled:"false"===this.state.checked,"data-value":"Place order",onClick:e=>{this.sendBillingDetails()}},this.context.language.GoToCheckout)))))))),n.a.createElement("div",{class:"col text-left"},n.a.createElement("button",{className:"btn btn-primary",onClick:e=>{this.setState({setMarketPlacePage:!0})}},this.context.language.Back))))}}i()(qe,"contextType",o.a);const ze=({size:e=15,color:t="#fc8181"})=>n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));class Ge extends s.Component{constructor(e){super(e),this.state={selectedAddons:[],showCheckoutPage:!1,searchedText:"",tabFilter:"",orderButton:!1},this.backupMarkedPlaceArray=""}componentDidMount(){this.backupMarkedPlaceArray=this.context.marketPlaceArray,this.activateInstalledAddons(),this.getLicenseInformation()}async getLicenseInformation(){var e=new FormData;e.set("action","wpulb_license_tab");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("License",t),200==t.status&&(this.context.setLicenseActivated(t.data.response.license_tab),t.data.response.license_tab?(this.context.showComponent="license",this.context.setShowComponent(this.context.showComponent),this.context.showLicenseTab=t.data.response.license_tab,this.context.setShowLicenseTab(this.context.showLicenseTab),t.data.response.addon_slug&&this.context.setAddonSlug(t.data.response.addon_slug)):(this.context.showLicenseTab=t.data.response.license_tab,this.context.setShowLicenseTab(this.context.showLicenseTab)))}catch(e){console.log(e)}}async activateInstalledAddons(){var e=new FormData;e.set("action","wpulb_installed_addons");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("Installed Addons List",t),t.data.success&&t.data.installed_addon.length>0&&this.context.setInstalledAddons(t.data.installed_addon),this.context.marketPlaceArray.map((e,t)=>{for(var a=0;a<this.context.installedAddons.length;a++)this.context.installedAddons[a]===e.slug&&(this.context.marketPlaceArray[t].state="activated")}),console.log("Activated Addon Market Place Array",this.context.marketPlaceArray),this.context.setMarketPlaceArray(this.context.marketPlaceArray)}catch(e){console.log(e)}}matchSearchedText(e){console.log("searched Text",e),console.log("Market Place Array",this.context.marketPlaceArray);var t=this.context.backupMarketPlaceArray.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()));this.context.setMarketPlaceArray(t)}matchTabfilter(e){if(console.log("Tab Filter",e),"All"==e)this.context.setMarketPlaceArray(this.context.backupMarketPlaceArray);else{var t=this.context.backupMarketPlaceArray.filter(t=>t.groupname==e);this.context.setMarketPlaceArray(t)}}async downloadAddon(e){console.log("Selected Market Place Component",e);var t=new FormData;t.set("action","wpulb_install_plugins"),"Sugar CRM Support"==e.title?t.set("addon","wp-sugar-free"):"Vtiger CRM Support"==e.title&&t.set("addon","wp-tiger");const a=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(a)}async sendSelectedAddons(){console.log("Selected Addons",this.context.selectedAddons),console.log("Order",this.state.orderButton);var e=new FormData;e.set("action","wpulb_buynow_click"),e.set("addons",JSON.stringify(this.context.selectedAddons));const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("Response",t),200==t.data.status&&t.data.success&&this.state.orderButton?(console.log("Response Received"),this.context.setCartProductLists(t.data.response.addon_array),this.context.setDomainName(t.data.domain_name),this.setState({showCheckoutPage:!0})):(console.log("Response Received"),this.context.setCartProductLists(t.data.response.addon_array),this.context.setDomainName(t.data.domain_name),this.setState({showCheckoutPage:!1}))}render(){return this.state.showCheckoutPage?n.a.createElement(qe,null):n.a.createElement("div",{className:"tab-containers container p20"},n.a.createElement("div",{className:"marketplace-search "},n.a.createElement("div",{className:"marketplace-list"},n.a.createElement("button",{class:"alltab ",onClick:e=>{this.matchTabfilter(this.context.language.All)}},this.context.language.All),n.a.createElement("button",{class:"Crmtab",onClick:e=>{this.matchTabfilter(this.context.language.crm)}},this.context.language.crm),n.a.createElement("button",{class:"Helpdesktab",onClick:e=>{this.matchTabfilter(this.context.language.helpdesk)}},this.context.language.helpdesk),n.a.createElement("button",{class:"Formstab",onClick:e=>{this.matchTabfilter(this.context.language.forms)}},this.context.language.forms),n.a.createElement("button",{class:"Otherstab",onClick:e=>{this.matchTabfilter(this.context.language.others)}},this.context.language.others)),n.a.createElement("div",{className:"form-group d-flex justify-content-end"},n.a.createElement("div",null,n.a.createElement("span",{className:"search-icon"},n.a.createElement($e,null))),n.a.createElement("input",{type:"text",className:"search-box",placeholder:"Search Plugins",value:this.context.searchedText,onChange:e=>{this.context.setSearchedText(e.target.value),this.matchSearchedText(e.target.value)}}),n.a.createElement("span",{className:"cancel-icon",onClick:e=>{console.log("Clicked Close Icon"),this.context.setSearchedText(""),this.context.setMarketPlaceArray(this.context.backupMarketPlaceArray)}},n.a.createElement(Ye,null))),n.a.createElement("div",{className:"addcart"},n.a.createElement("img",{src:"".concat(window.wpulb_wpr_object.imagePath,"addcart.png"),alt:"",onClick:e=>{this.context.setaddtocart(!0),this.setState({showCheckoutPage:!0})}}),n.a.createElement("span",null,"(",this.context.cartProductLists.length,")")),n.a.createElement("div",{className:"checkout"},n.a.createElement("button",{className:"checkout-tab",onClick:e=>{this.setState({showCheckoutPage:!0})}},this.context.language.Checkout))),n.a.createElement("div",{className:"row"},this.context.marketPlaceArray.map((e,t)=>n.a.createElement("div",{className:"col-lg-4 col-sm-6 ".concat("activated"==e.state?"disabledbutton":"")},n.a.createElement("div",{className:"marketplace-grid"},n.a.createElement("div",{className:"marketplace-image-container ".concat("activated"==this.context.marketPlaceArray[t].checkedaddon?"check-circle":"")},n.a.createElement("img",{src:"".concat(window.wpulb_wpr_object.imagePath).concat(e.image),alt:"",style:{height:"34.38px"}})),n.a.createElement("div",{className:"marketplace-body-container"},n.a.createElement("div",{className:"marketplace-header"},n.a.createElement("h3",null,e.title),n.a.createElement("span",{className:"marketplacebadge ".concat(e.groupname)},e.groupname)),n.a.createElement("p",null,e.description),n.a.createElement("div",{className:"marketplace-footer"},n.a.createElement("h2",null,e.price),"activated"!=e.state?n.a.createElement("div",{class:"col"},n.a.createElement("button",{class:"buynow",onClick:t=>{this.context.selectedAddons.push({product_name:e.title,product_image:e.image,product_id:e.id,product_slug:e.slug,product_price:e.price.substr(1)}),this.setState({orderButton:!0}),this.sendSelectedAddons()}},this.context.language.BuyNow),n.a.createElement("button",{class:"addtocart",onClick:t=>{this.context.selectedAddons.push({product_name:e.title,product_image:e.image,product_id:e.id,product_slug:e.slug,product_price:e.price.substr(1)}),this.setState({orderButton:!1}),this.sendSelectedAddons()}},this.context.language.AddToCart)):"")))))))}}i()(Ge,"contextType",o.a);const Ye=({size:e=24,color:t="#fc8181"})=>n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),n.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$e=({size:e=24,color:t="#718096"})=>n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},n.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),n.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}));class Je extends s.Component{constructor(e){super(e),this.state={licenseKey:"",loading:!1}}componentDidMount(){console.log("Addon Slug Value",this.context.addonSlug)}async sendLicenseKey(){console.log("License Key",this.state.licenseKey);var e=new FormData;e.set("action","wpulb_send_licensekey"),e.set("license_key",this.state.licenseKey);try{const s=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log("Send License Key Response",s),s.data.is_license_vefified){for(var t=s.data.message,a=0;a<t.length;a++)if(t[a].includes("Addon could not be activated"))return void this.sendLicenseKey();for(a=0;a<s.data.message.length;a++)P.b.info(s.data.message[a]);this.setState({loading:!1})}else P.b.info(s.data.message),this.setState({loading:!1})}catch(e){console.log(e)}}async sendLicenseKeyAndAddon(){const e=this.context.marketPlaceArray.filter(e=>{if(this.context.addonSlug===e.slug)return e.id});var t=new FormData;t.set("action","wpulb_verify_license"),t.set("license_key",this.state.licenseKey),t.set("addon_slug",this.context.addonSlug),t.set("product_id",e[0].id);try{const e=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log("Activate Button License Response",e),e.data.is_license_vefified){for(var a=0;a<e.data.message.length;a++)P.b.info(e.data.message[a]);this.setState({loading:!1})}else P.b.info(e.data.message),this.setState({loading:!1})}catch(e){console.log(e)}}render(){return n.a.createElement("div",{className:"tab-containers container crm-config",style:{maxWidth:"1050px"}},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"form-group"},n.a.createElement("h3",{className:"setting-heading"},this.context.language.ThankyouforyourPurchase),n.a.createElement("p",null,this.context.language.Togetstartedyouneedtodownloadandactivatebyenteringthelicensekey)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,this.context.language.EntertheLicenseKey),n.a.createElement("input",{type:"text",id:"license-key",name:"liceenseKey",className:"form-control col-md-6",value:this.state.licenseKey,onChange:e=>{this.setState({licenseKey:e.target.value})}})),n.a.createElement("div",{className:"row justify-content-left ml-1"},n.a.createElement("button",{onClick:()=>{this.setState({loading:!0}),""===this.context.addonSlug?this.sendLicenseKey():this.sendLicenseKeyAndAddon()},className:"btn btn-primary mt-1 mr15"},this.state.loading?this.context.btnLoader:""===this.context.addonSlug?"Download and Activate":"Activate")))))}}i()(Je,"contextType",o.a);class Ze extends s.Component{constructor(e){super(e),this.state={purchasedProductsAndKeys:"",loading:!1}}componentDidMount(){this.getLicenseDetails()}async getLicenseDetails(){var e=new FormData;e.set("action","wpulb_get_licensekey_details");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("License Details",t),200==t.data.status&&t.data.success&&(this.setState({purchasedProductsAndKeys:t.data.response.products_with_license}),this.setState({loading:!0}))}catch(e){console.log(e)}}render(){return n.a.createElement("div",{className:"tab-containers container p0"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("h1",{className:"main-heading p-0 mt-0 mb-3 ml-1"},"License Details")),n.a.createElement("div",{className:"table-responsive mt-2"},n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"pl-4"}," Addon Name "),n.a.createElement("th",null," License Key "))),n.a.createElement("tbody",null," ",this.state.loading?this.state.purchasedProductsAndKeys?Object.keys(this.state.purchasedProductsAndKeys).map(e=>n.a.createElement("tr",null,n.a.createElement("td",{className:"pl-4 hoverDetail"},console.log("Value",this.state.purchasedProductsAndKeys[e]),e),n.a.createElement("td",null,this.state.purchasedProductsAndKeys[e]))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5",className:"text-center text-danger"},"No Data Found")):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5",className:"text-center",style:{height:"60px"}}," "," ",this.context.loaderText," "," "))))))}}i()(Ze,"contextType",o.a);class Qe extends s.Component{constructor(e){super(e),i()(this,"editMapping",(e,t,a)=>{const{alreadyMappedFields:s,mappingResult:n}=this.state;if(s[a]&&this.checkValue){if(this.state.mappingResult.hasOwnProperty(a)){var o=!1;this.state.mappingResult[a].hasOwnProperty(e)||(o=!0)}else o=!0;if(s[a].length>0)return""!==s[a][t].label?(o&&(this.state.mappingResult[a]?this.state.mappingResult[a][e]=s[a][t]:(this.state.mappingResult[a]={},this.state.mappingResult[a][e]=s[a][t])),this.checkValue=!0,s[a][t]):void(this.checkValue=!0)}}),this.focus=n.a.createRef(),this.state={pluginList:[],duplicateHandlingList:[],moduleList:[],ownerList:[],pluginValue:"",syncValue:"DATA_BUCKET_ONLY",manualSyncStatus:!0,dataBucketFields:[],userFields:[],addonField:[],nextPage:!0,mappingResult:{},moduleValue:[],duplicateHandlingValue:[],ownerValue:[],loading:!1,alreadyMappedFields:{},syncStart:0,syncOffset:10,syncedCount:0,totalSyncCount:0,syncLimit:0,btnLoading:!1,toFillKeys:[],toShowMandatoryLabel:[],btnLoading:!1,btnLoadingConfigureMapping:!1,showConfigureMapping:!0},this.limit=0,this.checkValue=!1}componentDidMount(){this.getPluginList(),this.getOnloadValue(),this.checkValue=!0,console.log("chec",this.checkvalue)}async getPluginList(){var e=new FormData;e.set("action","wpulb_user_display");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(t),this.setState({pluginList:t.data.response.plugins},()=>{console.log("pluginlist",this.state.pluginList)})}catch(e){console.log(e)}}async getOnloadValue(){var e=new FormData;e.set("action","wpulb_get_configured_user");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("onload",t.data.response),this.setState({showConfigureMapping:t.data.response.is_configured,pluginValue:t.data.response.configured_plugin,syncValue:t.data.response.syncType,moduleValue:t.data.response.addon_details.module,ownerValue:t.data.response.addon_details.recordOwner,duplicateHandlingValue:t.data.response.addon_details.duplicateOption,manualSyncStatus:t.data.response.sync_status},()=>{this.syncType(this.state.syncValue)})}catch(e){console.log(e)}}async autoSync(){let e=this.state.manualSyncStatus.toString();console.log(e);var t=new FormData;t.set("action","wpulb_get_manual_sync"),t.set("sync",e);try{const e=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"Multipart/form-data"}}});console.log(e),!1===e.data.success&&P.b.error(e.data.message)}catch(e){console.log(e)}}async getManualSync(){var e=new FormData;e.set("action","wpulb_one_time_manual_sync"),e.set("wp_start",this.state.syncStart),e.set("wp_offset",this.state.syncOffset),e.set("synced_count",this.state.syncedCount);try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("getManualSync",t),!1===t.data.success?(P.b.info(t.data.message),this.setState({btnLoading:!1})):this.setState({syncStart:t.data.response.sync_status.start,syncedCount:t.data.response.sync_status.synced_count,totalSyncCount:t.data.response.sync_status.total_count,syncLimit:t.data.response.sync_status.users_within_limit},()=>{if(this.limit=this.limit+this.state.syncLimit,0!==this.state.syncLimit&&P.b.success(t.data.message),!(this.limit<this.state.totalSyncCount))return this.setState({btnLoading:!1,syncStart:0,syncedCount:0}),void(this.limit=0);this.getManualSync()})}catch(e){console.log(e)}}async syncType(e){console.log(e);var t=new FormData;t.set("action","wpulb_user_addon_display"),t.set("sync_to",e);try{const e=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log(e),this.setState({loading:!1,duplicateHandlingList:e.data.response.duplicate_handling_options,moduleList:e.data.response.modules,ownerList:e.data.response.record_owner_options},()=>{console.log("list1",this.state.duplicateHandlingList),console.log("list2",this.state.moduleList),console.log("list3",this.state.ownerList)})}catch(e){console.log(e)}}async configureMapping(){var e=new FormData;e.set("action","wpulb_user_mapping"),e.set("sync_to",this.state.syncValue),e.set("plugin",this.state.pluginValue?this.state.pluginValue.value:""),"CRM"!==this.state.syncValue&&"HELPDESK"!==this.state.syncValue||(e.set("module",this.state.moduleValue.value),e.set("duplicate_handling",this.state.duplicateHandlingValue.value),e.set("record_owner",this.state.ownerValue.value));try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});this.setState({loading:!0}),console.log(t),this.checkValue=!0,200===t.data.status&&t.data.success?this.setState({loading:!1,btnLoadingConfigureMapping:!1,dataBucketFields:t.data.response.data_bucket_fields,userFields:t.data.response.user_fields,addonField:t.data.response.addon_fields,alreadyMappedFields:t.data.response.mapping_fields},()=>{}):t.data.success||(this.setState({btnLoadingConfigureMapping:!1}),P.b.info(t.data.message))}catch(e){console.log(e)}}updateMapping(e,t,a){console.log("updatemap",e+"&"+t+"&"+a);var s=this.state.mappingResult,n=this.state.mappingResult[a];""===e||null==e?(console.log("delete",s[a][t]),delete s[a][t],console.log("delete",s[a])):n?this.state.mappingResult[a][t]=e:(this.state.mappingResult[a]={},this.state.mappingResult[a][t]=e)}async saveFinalMapping(){var e=this.state.mappingResult,t=new FormData;t.set("action","wpulb_save_user_mapping"),t.set("mappingResult",JSON.stringify(e)),t.set("sync_to",this.state.syncValue);try{const e=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("finalmapresponse",e),e&&e.data&&(200==e.data.status&&e.data.success?(P.b.success(e.data.message),this.setState({nextPage:!0})):P.b.error(e.data.message))}catch(e){console.log(e)}}filter(e){let t,a;var s=[];for(t=0;t<this.state.addonField.length;t++)for(a=0;a<e.length;a++)e[a]===this.state.addonField[t].value&&s.push(this.state.addonField[t].label);return s}saveMapping(){let e=this.state.mappingResult.user_mapping;this.state.mappingResult.databucket_mapping;var t=[];let a=this.state.addonField,s=[],n=[],o=this.state.mappingResult.hasOwnProperty("user_mapping");for(let e=0;e<a.length;e++)a[e].mandatory&&s.push(a[e].value);if(o)for(let a=0;a<s.length;a++)if(S(e))for(let e=0;e<s.length;e++)t.push(s[e]);else for(var l in e)e.hasOwnProperty(s[a])||t.push(s[a]);else for(let e=0;e<s.length;e++)t.push(s[e]);var i=t.filter(function(e,t,a){return a.indexOf(e)===t});n=this.filter(i),this.setState({toShowMandatoryLabel:n},()=>{console.log(this.state.toShowMandatoryLabel.length),this.state.toShowMandatoryLabel.length>0?document.getElementById("to_show_info").click():this.saveFinalMapping()})}render(){const{pluginList:e,duplicateHandlingList:t,moduleList:a,ownerList:s,pluginValue:o,syncValue:l,manualSyncStatus:i,nextPage:c,dataBucketFields:r,userFields:d}=this.state,{moduleValue:m,ownerValue:u,duplicateHandlingValue:h,mappingResult:p,toFillKeys:g,toShowMandatoryLabel:f}=this.state;return console.log("f",f),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container tab-containers"},c?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row user-sync justify-content-center"},n.a.createElement("div",{className:"col-md-12 mt-2"},n.a.createElement("h1",{className:"main-heading p-0 mt-0 mb-3 ml-1"},this.context.language.UserSync)),n.a.createElement("div",{className:"col-md-10"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("label",{className:"mr-2 mb-3"},this.context.language.SelectPluginCustomFields),n.a.createElement("small",{class:"form-text text-muted mt-0"},"(",this.context.language.Optional,")")),n.a.createElement("div",{className:"col-md-10"},n.a.createElement(W.a,{theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),className:"select",getOptionLabel:e=>n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("span",null,e.label),n.a.createElement("span",{id:"span-2"},!1===e.active?"Inactive":"Active")),id:"plugin_custom_fields",isClearable:!0,isOptionDisabled:e=>!0!==e.active,value:o,options:e,onChange:e=>this.setState({pluginValue:e},()=>{console.log("li",this.state.pluginValue)})}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"mt-2"},this.context.ChooseoptiontoSync),n.a.createElement("div",{className:"d-flex mt10"},n.a.createElement("div",{className:"form-check form-check-inline form-group synctype "+(this.context.checkAddons.crmAddons?"":"act")},n.a.createElement("input",{className:"form-check-input ",onClick:e=>{this.syncType(e.target.value),this.setState({loading:!0,syncValue:e.target.value})},type:"radio",id:"crmRad",name:"sync_type",value:"CRM",checked:"CRM"===l}),n.a.createElement("label",{htmlFor:"crmRad",class:"form-check-label"},n.a.createElement("p",null,this.context.language.CRM),n.a.createElement("p",null,"+"),n.a.createElement("p",null,this.context.language.DataBucket))),n.a.createElement("div",{className:"form-check form-check-inline form-group synctype "+(this.context.checkAddons.helpdeskAddons?"":"act")},n.a.createElement("input",{className:"form-check-input ",onClick:e=>{this.syncType(e.target.value),this.setState({loading:!0,syncValue:e.target.value})},type:"radio",id:"helpdeskRad",name:"sync_type",value:"HELPDESK",checked:"HELPDESK"===l}),n.a.createElement("label",{htmlFor:"helpdeskRad",className:"form-check-label"},n.a.createElement("p",null,this.context.language.Helpdesk),n.a.createElement("p",null,"+"),n.a.createElement("p",null,this.context.language.DataBucket))))),!(!1===this.context.checkAddons.crmAddons&&!1===this.context.checkAddons.helpdeskAddons||"CRM"!==l&&"HELPDESK"!==l)?this.state.loading?n.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"200px"}},this.context.loaderText):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group col-md-12 "},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",null,"Sync Wordpress User as")),n.a.createElement("div",{className:"col-md-12"},n.a.createElement(W.a,{theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),className:"select",onChange:e=>this.setState({moduleValue:e},()=>{console.log("changes on module",this.state.moduleValue)}),value:m,options:a}))),n.a.createElement("div",{className:"form-group col-md-12 "},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",null,"On Duplicate Data")),n.a.createElement("div",{className:"col-md-12"},n.a.createElement(W.a,{theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),className:"select",onChange:e=>this.setState({duplicateHandlingValue:e},()=>{console.log("changes on duplicateHandling",this.state.duplicateHandlingValue)}),options:t,value:h}))),n.a.createElement("div",{className:"form-group col-md-12 mb-0 "},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",null,"Lead Owner")),n.a.createElement("div",{className:"col-md-12"},n.a.createElement(W.a,{theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),className:"select",onChange:e=>this.setState({ownerValue:e},()=>{console.log("changes on owner",this.state.ownerValue)}),options:s,value:u})))):"",n.a.createElement("div",{className:"col-md-12 mt-3"},n.a.createElement("div",{className:"d-flex"},this.state.showConfigureMapping||"CRM"===l||"HELPDESK"===l?n.a.createElement("button",{type:"button",className:"btn btn-secondary pull-right offset-md-8",onClick:()=>"DATA_BUCKET_ONLY"===l?(this.setState({loading:!0,btnLoadingConfigureMapping:!0,nextPage:!1}),void this.configureMapping()):this.state.moduleValue&&this.state.duplicateHandlingValue&&this.state.ownerValue?(this.setState({loading:!0,btnLoadingConfigureMapping:!0,nextPage:!1}),void this.configureMapping()):(this.state.moduleValue||P.b.info("Kindly select the module"),this.state.duplicateHandlingValue||P.b.info("Kindly select the duplicate handling"),void(this.state.ownerValue||P.b.info("Kindly select the lead owner")))},this.state.btnLoadingConfigureMapping?this.context.btnLoader:"".concat(this.context.language.ConfigureMapping)):"")))),n.a.createElement("hr",null),n.a.createElement("div",{className:"row user-sync align-items-center mb-2"},n.a.createElement(B.a,{id:"global","aria-haspopup":"true",role:"example"},n.a.createElement("div",null,n.a.createElement("i",null,"Wp user Auto Sync :"),n.a.createElement("p",null,"Automatically sync WordPress users to CRM When Creating Or Updating Users"),n.a.createElement("i",null,"One Time Manual Sync : "),n.a.createElement("p",null,"Sync existing Wordpress users as Leads or Contacts "))),n.a.createElement("div",{className:"col-md-12"},n.a.createElement("h1",{className:"main-heading"},this.context.language.UserSyncMethod)),n.a.createElement("div",{className:"d-flex justify-content-center offset-md-3"},n.a.createElement("div",{class:"form-group fieldset-ios row p-0 ml-3"},n.a.createElement("div",{className:""},n.a.createElement("label",{for:"enablesync"},this.context.language.WPUserAutoSync),n.a.createElement("input",{type:"checkbox",class:"ios-switch",id:"enablesync",checked:i,onChange:e=>{this.setState({manualSyncStatus:e.target.checked},()=>{console.log("manualsync",this.state.manualSyncStatus),this.autoSync()})}}),n.a.createElement("label",{class:"switch-ios switch-check",for:"enablesync"},n.a.createElement("i",null))),n.a.createElement("div",{className:""},n.a.createElement("div",{className:"d-flex offset-md-11 mr-3"},n.a.createElement("button",{type:"button",className:"btn btn-secondary "+(this.state.manualSyncStatus?"act":""),id:"manual_btn",disabled:i,onClick:()=>this.setState({btnLoading:!0},()=>{this.getManualSync()})},this.state.btnLoading?this.context.btnLoader:"".concat(this.context.language.OneTimeManualSync)),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":!0,"data-for":"global"}))))))):n.a.createElement("div",{className:"row justify-content-center px-0"},n.a.createElement("div",{className:"col-md-10 mt-4"},n.a.createElement("table",{className:"table table-mapping"},n.a.createElement("thead",null,n.a.createElement("tr",null,"DATA_BUCKET_ONLY"!==l?n.a.createElement("th",null,l," Field"):n.a.createElement("th",null,"Databucket Field"),"DATA_BUCKET_ONLY"!==l?n.a.createElement("th",null,"Databucket Field"):"",n.a.createElement("th",null,"User Field"))),n.a.createElement("tbody",null,this.state.loading?n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"3",className:"text-center"},this.context.loaderText)):0!==this.state.addonField.length?this.state.addonField.map((e,t)=>n.a.createElement("tr",null,n.a.createElement("td",{style:{width:"30%"}},n.a.createElement("label",{className:"wpfields"},e.label,e.mandatory?n.a.createElement("span",{style:{color:"rgb(253, 0, 0)"}},"*"):"")),"DATA_BUCKET_ONLY"!==l?n.a.createElement("td",{style:{width:"30%"}},n.a.createElement(W.a,{className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isClearable:!0,options:r,defaultValue:this.editMapping(e.value,t,"databucket_mapping"),onChange:t=>this.updateMapping(t,e.value,"databucket_mapping")})):"",n.a.createElement("td",{style:{width:"30%"}},n.a.createElement(W.a,{className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isClearable:!0,options:d,defaultValue:this.editMapping(e.value,t,"user_mapping"),onChange:t=>this.updateMapping(t,e.value,"user_mapping")})))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"3",className:"text-danger text-center"}," ","No Fields Found")))),n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"btn btn-default pull-left m-4",onClick:()=>this.setState({nextPage:!0})},this.context.language.Back)),n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"btn btn-secondary pull-right m-4",onClick:()=>this.saveMapping()},"Save Mapping"),n.a.createElement("a",{"data-toggle":"modal","data-target":"#info",id:"to_show_info"}))))),n.a.createElement("div",{className:"modal fade",id:"info"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h2",{className:"main-heading"},"Please Fill The User Fields For"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement(n.a.Fragment,null,0!==this.state.toShowMandatoryLabel.length?this.state.toShowMandatoryLabel.map(e=>n.a.createElement("div",null,n.a.createElement("label",null,e))):"")))))))}}i()(Qe,"contextType",o.a);class Xe extends s.Component{constructor(e){super(e),i()(this,"editMapping",(e,t,a)=>{const{alreadyMappedFields:s,isEditForm:n,mappingResult:o}=this.state,l=s[a];if(n&&l&&this.checkValue){if(this.state.mappingResult.hasOwnProperty(a)){var i=!1;this.state.mappingResult[a].hasOwnProperty(e)||(i=!0)}else i=!0;if(s[a].length>0)return""!==s[a][t].label?(i&&(this.state.mappingResult[a]?this.state.mappingResult[a][e]=s[a][t]:(this.state.mappingResult[a]={},this.state.mappingResult[a][e]=s[a][t])),this.checkValue=!0,s[a][t]):void(this.checkValue=!0)}}),this.state={syncValue:"DATA_BUCKET_ONLY",loading:!1,duplicateHandlingList:[],moduleList:[],ownerList:[],nextPage:!0,loading:!1,dataBucketFields:[],woocommerce_fields:[],addonField:[],moduleValue:[],duplicateHandlingValue:[],ownerValue:[],mappingResult:{},alreadyMappedFields:{},isEditForm:!0,toShowMandatoryLabel:[],selectedWoocommerceOption:{label:"Products",value:"Products"},manualSyncStatus:!0,woocommerce_types:[],syncStart:0,syncOffset:10,syncedCount:0,totalSyncCount:0,syncLimit:0,btnLoading:!1,btnLoadingConfigureMapping:!1,woocommerceActive:!0,woocommerceStateInformation:""},this.limit=0,this.checkValue=!1}componentDidMount(){this.getOnloadValue(),this.checkWoocommercePlugin(),this.checkValue=!0}async checkWoocommercePlugin(){var e=new FormData;e.set("action","wpulb_check_woocommerce_active");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("Woocommerce Tab Response",t),200==t.data.status&&t.data.success&&(t.data.response.woocommerce_active||this.setState({woocommerceStateInformation:t.data.message}),this.setState({woocommerceActive:t.data.response.woocommerce_active}))}catch(e){console.log(e)}}async configureMapping(){var e=new FormData;e.set("action","wpulb_woocommerce_mapping"),e.set("sync_to",this.state.syncValue),"CRM"!==this.state.syncValue&&"HELPDESK"!==this.state.syncValue||(e.set("module",this.state.moduleValue.value),e.set("duplicate_handling",this.state.duplicateHandlingValue.value),e.set("record_owner",this.state.ownerValue.value)),"DATA_BUCKET_ONLY"===this.state.syncValue&&e.set("module",this.state.selectedWoocommerceOption.value);try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("Woocommerce Sync",t),"Data bucket selected"===t.data.message&&this.setState({woocommerce_types:t.data.response.woocommerce_types}),this.checkValue=!0,200===t.data.status&&t.data.success?this.setState({loading:!1,btnLoadingConfigureMapping:!1,nextPage:!1,dataBucketFields:t.data.response.data_bucket_fields,woocommerce_fields:t.data.response.woocommerce_fields,addonField:t.data.response.addon_fields,alreadyMappedFields:t.data.response.mapping_fields},()=>{console.log("woocomerce field",this.state.woocommerce_fields),console.log("data bucket fields",this.state.dataBucketFields),console.log("addon fields",this.state.addonField),console.log("alreadymappedfield",this.state.alreadyMappedFields)}):t.data.success||(this.setState({btnLoadingConfigureMapping:!1}),P.b.info(t.data.message))}catch(e){console.log(e)}}async getOnloadValue(){var e=new FormData;e.set("action","wpulb_get_configured_woocommerce");try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("onload",t.data.response),this.setState({syncValue:t.data.response.syncType,moduleValue:t.data.response.addon_details.module,ownerValue:t.data.response.addon_details.recordOwner,duplicateHandlingValue:t.data.response.addon_details.duplicateOption,manualSyncStatus:t.data.response.sync_status},()=>{this.syncType(this.state.syncValue)})}catch(e){console.log(e)}}async autoSync(){let e=this.state.manualSyncStatus.toString();console.log(e);var t=new FormData;t.set("action","wpulb_woocom_product_sync"),t.set("sync",e);try{const e=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"Multipart/form-data"}}});console.log(e),!1===e.data.success&&P.b.error(e.data.message)}catch(e){console.log(e)}}async getManualSync(){var e=new FormData;e.set("action","wpulb_woocom_product_one_time_manual_sync"),e.set("wp_start",this.state.syncStart),e.set("wp_offset",this.state.syncOffset),e.set("synced_count",this.state.syncedCount);try{const t=await r()({method:"post",url:ajaxurl,data:e,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("getManualSync",t),t.data.success||(this.setState({btnLoading:!1}),P.b.info(t.data.message)),t.data.success&&this.setState({syncStart:t.data.response.sync_status.start,syncedCount:t.data.response.sync_status.synced_count,totalSyncCount:t.data.response.sync_status.total_count,syncLimit:t.data.response.sync_status.users_within_limit},()=>{if(this.limit=this.limit+this.state.syncLimit,0!==this.state.syncLimit&&P.b.success(t.data.message),!(this.limit<this.state.totalSyncCount))return this.setState({btnLoading:!1,syncStart:0,syncedCount:0}),void(this.limit=0);this.getManualSync()})}catch(e){console.log(e)}}async syncType(e){console.log(e);var t=new FormData;t.set("action","wpulb_woocommerce_addon_display"),t.set("sync_to",e);try{const e=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("Woocommerce Response",e),"Data bucket selected"===e.data.message&&this.setState({woocommerce_types:e.data.response.woocommerce_types}),this.setState({loading:!1,duplicateHandlingList:e.data.response.duplicate_handling_options,moduleList:e.data.response.modules,ownerList:e.data.response.record_owner_options},()=>{console.log("list1",this.state.duplicateHandlingList),console.log("list2",this.state.moduleList),console.log("list3",this.state.ownerList)})}catch(e){console.log(e)}}updateMapping(e,t,a){console.log("updatemap",e+"&"+t+"&"+a);var s=this.state.mappingResult,n=this.state.mappingResult[a];""===e||null==e?(console.log("delete",s[a][t]),delete s[a][t],console.log("delete",s[a])):n?this.state.mappingResult[a][t]=e:(this.state.mappingResult[a]={},this.state.mappingResult[a][t]=e)}filter(e){let t,a;var s=[];for(t=0;t<this.state.addonField.length;t++)for(a=0;a<e.length;a++)e[a]===this.state.addonField[t].value&&s.push(this.state.addonField[t].label);return s}async saveMapping(){let e=this.state.mappingResult.woocommerce_mapping;var t=[];let a=this.state.addonField,s=[],n=[],o=this.state.mappingResult.hasOwnProperty("woocommerce_mapping");console.log(e);for(let e=0;e<a.length;e++)a[e].mandatory&&s.push(a[e].value);if(o)for(let a=0;a<s.length;a++)if(S(e))for(let e=0;e<s.length;e++)t.push(s[e]);else for(var l in e)e.hasOwnProperty(s[a])||t.push(s[a]);else for(let e=0;e<s.length;e++)t.push(s[e]);var i=t.filter(function(e,t,a){return a.indexOf(e)===t});n=this.filter(i),this.setState({toShowMandatoryLabel:n},()=>{this.state.toShowMandatoryLabel.length>0?document.getElementById("to_show_info").click():this.saveFinalMapping()})}async saveFinalMapping(){var e=this.state.mappingResult;console.log(e);var t=new FormData;t.set("action","wpulb_save_woocommerce_mapping"),t.set("mappingResult",JSON.stringify(e)),t.set("sync_to",this.state.syncValue);try{const e=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("finalmapresponse",e),e&&e.data&&(200==e.data.status&&e.data.success?(P.b.success(e.data.message),this.setState({nextPage:!0})):P.b.error(e.data.message))}catch(e){console.log(e)}}redirectToPlugin(){var e=window.location.href.split("?")[0];return console.log("Splitted Url",e),e=e.replace("admin.php","plugin.php")}render(){const{syncValue:e,loading:t,duplicateHandlingList:a,moduleList:s,ownerList:o,addonField:l,woocommerce_fields:i,nextPage:c,ownerValue:r,duplicateHandlingValue:d,moduleValue:m,dataBucketFields:u,toShowMandatoryLabel:h,manualSyncStatus:p}=this.state;return this.state.woocommerceActive?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container tab-containers"},c?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"col-md-12"},n.a.createElement("h1",{className:"main-heading"},"Woocommerce Sync")),n.a.createElement("div",{className:"row mt-4 woocommerce justify-content-center"},n.a.createElement("div",{className:"col-md-10"},n.a.createElement("div",{className:"form-group "},n.a.createElement("label",{className:"mt-2"},this.context.ChooseoptiontoSync),n.a.createElement("div",{className:"d-flex mt10"},n.a.createElement("div",{className:"form-check form-check-inline form-group synctype "+(this.context.checkAddons.crmAddons?"":"act")},n.a.createElement("input",{className:"form-check-input",onClick:e=>{this.syncType(e.target.value),this.setState({loading:!0,syncValue:e.target.value},()=>{console.log("syncvalue at onclick",this.state.syncValue)})},type:"radio",id:"crmRad",name:"sync_type",value:"CRM",checked:"CRM"===e}),n.a.createElement("label",{htmlFor:"crmRad",class:"form-check-label"},n.a.createElement("p",null,this.context.language.CRM),n.a.createElement("p",null,"+"),n.a.createElement("p",null,this.context.language.DataBucket))),n.a.createElement("div",{className:"form-check form-check-inline form-group synctype"},n.a.createElement("input",{className:"form-check-input",onClick:e=>{this.syncType(e.target.value),this.setState({syncValue:e.target.value},()=>{console.log("syncvalue at onclick",this.state.syncValue)})},type:"radio",id:"dataBucketRad",name:"sync_type",value:"DATA_BUCKET_ONLY",checked:"DATA_BUCKET_ONLY"===e}),n.a.createElement("label",{htmlFor:"dataBucketRad",className:"form-check-label"},n.a.createElement("p",null,this.context.language.DatabucketOnly))))),!1!==this.context.checkAddons.crmAddons||!1!==this.context.checkAddons.helpdeskAddons?"CRM"===e||"HELPDESK"===e?t?n.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"200px"}},this.context.loaderText):n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"main-heading"},"Woocommerce Field Configuration"),n.a.createElement("div",{className:"form-group mt-2"},n.a.createElement("label",null,this.context.language.SyncWoocommerceCustomeras),n.a.createElement(W.a,{theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),className:"select",onChange:e=>this.setState({moduleValue:e},()=>{console.log("changes on module",this.state.moduleValue)}),options:s,value:m})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Duplicate Handling"),n.a.createElement(W.a,{theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),className:"select",onChange:e=>this.setState({duplicateHandlingValue:e},()=>{console.log("changes on duplicateHandling",this.state.duplicateHandlingValue)}),options:a,value:d})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Lead Owner"),n.a.createElement(W.a,{theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),className:"select",onChange:e=>this.setState({ownerValue:e},()=>{console.log("changes on owner",this.state.ownerValue)}),options:o,value:r}))):"DATA_BUCKET_ONLY"===e?n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{className:"main-heading"},this.context.language.ChooseWoocommerceProductsorOrderstobeSync),n.a.createElement("div",{className:"form-group mt-2"},n.a.createElement("label",null,this.context.language.SyncWoocommerceProductsOrdersas),n.a.createElement(W.a,{theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),className:"select",onChange:e=>{console.log("Choosed Woocommerce Options",e),this.setState({selectedWoocommerceOption:e})},options:this.state.woocommerce_types,value:this.state.selectedWoocommerceOption}))):"":"",n.a.createElement("div",{className:"col-md-3 mb-4 pull-right"},n.a.createElement("div",{className:"d-flex"},n.a.createElement("button",{type:"button",className:"btn btn-secondary pull-right offset-md-4",onClick:()=>"DATA_BUCKET_ONLY"===e?(this.setState({loading:!0,btnLoadingConfigureMapping:!0,nextPage:!1}),void this.configureMapping()):this.state.moduleValue&&this.state.duplicateHandlingValue&&this.state.ownerValue?(this.setState({loading:!0,btnLoadingConfigureMapping:!0,nextPage:!1}),void this.configureMapping()):(this.state.moduleValue||P.b.info("Kindly select the module"),this.state.duplicateHandlingValue||P.b.info("Kindly select the duplicate handling"),void(this.state.ownerValue||P.b.info("Kindly select the lead owner")))},this.state.btnLoadingConfigureMapping?this.context.btnLoader:"".concat(this.context.language.ConfigureMapping)))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"row user-sync align-items-center mb-2"},n.a.createElement(B.a,{id:"global","aria-haspopup":"true",role:"example"},n.a.createElement("div",null,n.a.createElement("i",null,"Wp woocommerce Auto Sync :"),n.a.createElement("p",null,"Automatically sync WordPress woocommerce products and orders to CRM When Creating Or Updating products and orders"),n.a.createElement("i",null,"One Time Manual Sync : "),n.a.createElement("p",null,"Sync existing Wordpress woocommerce products and orders as Products and SalesOrders in CRM"))),n.a.createElement("div",{className:"col-md-12 pb-3"},n.a.createElement("h1",{className:"main-heading"},this.context.language.WoocommerceSyncMethod)),n.a.createElement("div",{className:"col-md-11"},n.a.createElement("div",{className:"form-group fieldset-ios row p-0 ml-3"},n.a.createElement("div",{className:"col-md-9"},n.a.createElement("label",{for:"enablesync"},this.context.language.WPWoocommerceAutoSync),n.a.createElement("input",{type:"checkbox",className:"ios-switch",id:"enablesync",checked:p,onChange:e=>{this.setState({manualSyncStatus:e.target.checked},()=>{console.log("manualsync",this.state.manualSyncStatus),this.autoSync()})}}),n.a.createElement("label",{className:"switch-ios switch-check",for:"enablesync"},n.a.createElement("i",null))),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("div",{className:"d-flex offset-md-4 mr-3"},n.a.createElement("button",{type:"button",className:"btn btn-secondary "+(this.state.manualSyncStatus?"act":""),id:"manual_btn",disabled:p,onClick:()=>this.setState({btnLoading:!0},()=>{this.getManualSync()})},this.state.btnLoading?this.context.btnLoader:"".concat(this.context.language.OneTimeManualSync)),n.a.createElement("i",{className:"fa fa-question-circle help-icon-align","data-for":"soclose","data-tip":!0,"data-for":"global"}))))))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-10"},n.a.createElement("h1",{className:"main-heading"},"Configure Field Mapping"),n.a.createElement("div",{className:"row  px-0"},n.a.createElement("div",{className:"col-md-12 mt-2"},n.a.createElement("table",{className:"table table-mapping"},n.a.createElement("thead",null,n.a.createElement("tr",null,"DATA_BUCKET_ONLY"!==e?n.a.createElement("th",null,e," Field"):n.a.createElement("th",null,"Databucket Field"),"DATA_BUCKET_ONLY"!==e?n.a.createElement("th",null,"Databucket Field"):"",n.a.createElement("th",null,"Woocommerce Field"))),n.a.createElement("tbody",null,this.state.loading?n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"3",className:"text-center"},this.context.loaderText)):0!==this.state.addonField.length?this.state.addonField.map((t,a)=>n.a.createElement("tr",null,n.a.createElement("td",{style:{width:"30%",opacity:t.disable?.3:1}},n.a.createElement("label",{className:"wpfields"},t.label,t.mandatory?n.a.createElement("span",{style:{color:"rgb(253, 0, 0)"}},"*"):"",t.disable?n.a.createElement("span",{style:{color:"rgb(253, 0, 0)"}},"Auto mapped Fields"):"")),"DATA_BUCKET_ONLY"!==e?n.a.createElement("td",{style:{width:"30%"}},n.a.createElement(W.a,{className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isClearable:!0,options:u,isDisabled:t.disable,defaultValue:this.editMapping(t.value,a,"databucket_mapping"),onChange:e=>this.updateMapping(e,t.value,"databucket_mapping")})):"",n.a.createElement("td",{style:{width:"30%"}},n.a.createElement(W.a,{className:"select",theme:e=>({...e,borderRadius:6,colors:{...e.colors,primary25:"#e6f6f5",primary:"#00a699"}}),isClearable:!0,options:i,isDisabled:t.disable,defaultValue:this.editMapping(t.value,a,"woocommerce_mapping"),onChange:e=>this.updateMapping(e,t.value,"woocommerce_mapping")})))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"3",className:"text-danger text-center"}," ","No Fields Found")))),n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"btn btn-secondary pull-left m-4",onClick:()=>this.setState({nextPage:!0})},this.context.language.Back)),n.a.createElement("div",null,n.a.createElement("button",{type:"button",className:"btn btn-secondary pull-right my-4",onClick:()=>this.saveMapping()},"Save Mapping"),n.a.createElement("a",{"data-toggle":"modal","data-target":"#info",id:"to_show_info"})))))))),n.a.createElement("div",{className:"modal fade",id:"info"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h2",{className:"main-heading"},"Please Fill The Woocommerce Fields For"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"×")),n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"col-md-12"},n.a.createElement(n.a.Fragment,null,0!==this.state.toShowMandatoryLabel.length?this.state.toShowMandatoryLabel.map(e=>n.a.createElement("div",null,n.a.createElement("label",null,e))):""))))))):n.a.createElement("div",{className:"container tab-containers"},n.a.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"300px"}},n.a.createElement("div",{className:"text-center"},n.a.createElement("h5",{style:{color:"#2D3748"},className:"col-md-8 offset-md-2 mb30"},"Please ".concat(this.state.woocommerceStateInformation," the Woocommerce package to sync products and salesorders to CRM.")),"Install"===this.state.woocommerceStateInformation?n.a.createElement("a",{href:"https://wordpress.org/plugins/woocommerce/",className:"woocommerce-btn woocommerce-btn-secondary",target:"_blank"},"Click here to install"):n.a.createElement("a",{href:this.redirectToPlugin,className:"woocommerce-btn woocommerce-btn-secondary",style:{visibility:"hidden"},target:"_blank"},"Activate the Woocommerce Plugin"))))}}function et(){const e=Object(s.useContext)(o.a),t=function(){const[e,t]=Object(s.useState)(0);return()=>t(e=>++e)}();function a(t){e.setShowComponent(t)}function l(){var e=window.location.href;return C("?",e)}function i(e,t){var a=t.split("?")[0],s=[],n=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==n){for(var o=(s=n.split("&")).length-1;o>=0;o-=1)s[o].split("=")[0]===e&&s.splice(o,1);a=a+"?"+s.join("&")}return a}return Object(s.useEffect)(()=>{if(console.log("WPR Object",window.wpulb_wpr_object),!window.wpulb_wpr_object.file)return window.wpulb_wpr_object?(window.wpulb_wpr_object.file=defaultEnLang,e.setLanguage(window.wpulb_wpr_object.file),void t()):void(window.wpulb_wpr_object={file:defaultEnLang});e.setLanguage(JSON.parse(window.wpulb_wpr_object.file)),t(),async function(){var t=new FormData;if(t.set("action","wpulb_document_ready"),"wp-crm-connector-plus-admin-menu&code"===l().page){var a=C("&",window.location.href);t.set("code",a.code)}try{const s=await r.a.get(ajaxurl,{params:x(t)});s&&s.data&&200==s.data.status&&s.data.success&&(console.log("document_ready",s),!0===s.data.response.is_addon_currently_configured&&("salesforcecrm"===s.data.response.recently_activated_plugin?async function(t){var a=new FormData;a.set("action","wpulb_salesauth"),a.set("code",t);var s=window.location.href;try{const t=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log("salesCode",t),t&&t.data)if(t.data.success&&200==t.status){e.setShowComponent("form-manage"),P.b.success("SalesForce Successfully Configured"),e.checkAddons.crmAddons=!0,e.setCheckAddons(e.checkAddons),console.log("Check Addons",e.checkAddons);var n=i("code",s);console.log("Altered URL",n),window.history.pushState("page2","Title",n),window.location.reload()}else P.b.error(t.data.message)}catch(e){console.log(e)}}(a.code):"zohocrm"===s.data.response.recently_activated_plugin?async function(t){var a=new FormData;a.set("action","wpulb_zohoauth"),a.set("consumer_key",""),a.set("consumer_secret",""),a.set("code",t);var s=window.location.href;try{const t=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log("zohoCode",t),t&&t.data)if(t.data.success&&200==t.status){e.setShowComponent("form-manage"),P.b.success("Zoho CRM Successfully Configured"),e.checkAddons.crmAddons=!0,e.setCheckAddons(e.checkAddons);var n=i("code",s),o=i("location",n),l=i("accounts-server",o);window.history.pushState("page2","Title",l),window.location.reload()}else P.b.error(t.data.message)}catch(e){console.log(e)}}(a.code):"zohosupport"===s.data.response.recently_activated_plugin&&async function(t){var a=new FormData,s=window.location.href;a.set("action","wpulb_zohosupport_auth"),a.set("code",t);try{const t=await r()({method:"post",url:ajaxurl,data:a,config:{headers:{"Content-Type":"multipart/form-data"}}});if(console.log("zohosupport-response",t),t&&t.data)if(t.data.success&&200==t.status){e.setShowComponent("form-manage"),P.b.success("Zoho Helpdesk Successfully Configured"),e.checkAddons.helpdeskAddons=!0,e.setCheckAddons(e.checkAddons);var n=i("code",s),o=i("location",n),l=i("accounts-server",o);window.history.pushState("page2","Title",l),window.location.reload()}else P.b.error(t.data.message)}catch(e){console.log(e)}}(a.code)),s.data.response.user_configuration&&e.setUserConfiguration(s.data.response.user_configuration),s.data.response.woocommerce_configuration&&e.setWoocommerceConfiguration(s.data.response.woocommerce_configuration),e.checkAddons.crmAddons=s.data.response.has_crm_addon,e.checkAddons.helpdeskAddons=s.data.response.has_helpdesk_addon,e.setCheckAddons(e.checkAddons),console.log("context",e.checkAddons))}catch(e){console.error(e)}}(),function(){let e=l();if("wp-crm-connector-plus-admin-menu"!==e.page&&"wp-crm-connector-plus-admin-menu&code"!==e.page)C("&",window.location.href),C("#",window.location.href)}(),async function(){var t=new FormData;t.set("action","wpulb_license_tab");try{const a=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("License",a),200==a.status&&(e.setLicenseActivated(a.data.response.license_tab),a.data.response.license_tab?(e.showComponent="license",e.setShowComponent(e.showComponent),e.showLicenseTab=a.data.response.license_tab,e.setShowLicenseTab(e.showLicenseTab),a.data.response.addon_slug&&e.setAddonSlug(a.data.response.addon_slug)):(e.showLicenseTab=a.data.response.license_tab,e.setShowLicenseTab(e.showLicenseTab)))}catch(e){console.log(e)}}(),async function(){var t=new FormData;t.set("action","wpulb_licensekey_details_tab");try{const a=await r()({method:"post",url:ajaxurl,data:t,config:{headers:{"Content-Type":"multipart/form-data"}}});console.log("License Details Tab Shown Response",a),200==a.data.status&&a.data.success&&(a.data.response.licensekey_tab_activation,e.showLicenseDetailsTab=a.data.response.licensekey_tab_activation,e.setShowLicenseDetailsTab(e.showLicenseDetailsTab))}catch(e){console.log(e)}}()},[]),n.a.createElement("div",{className:"tab-menu"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"tab-section"},n.a.createElement("ul",{className:"tabs row justify-content-center"},n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("form-manage"===e.showComponent?"active":""),id:"form-manage",onClick:e=>a(e.target.id)},e.language.FormManagement),n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("data-bucket"===e.showComponent?"active":""),id:"data-bucket",onClick:e=>a(e.target.id)},"Data Buckets"),e.userConfigurationStatus?n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("usersync"===e.showComponent?"active":""),id:"usersync",onClick:e=>a(e.target.id)},e.language.UserSync):"",e.woocommerceConfigurationstatus?n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("woocommercesync"===e.showComponent?"active":""),id:"woocommercesync",onClick:e=>a(e.target.id)},e.language.WoocommerceSync):"",n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("crm-config"===e.showComponent?"active":""),id:"crm-config",onClick:e=>a(e.target.id)},e.language.CRMConfiguration),n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("helpdesk-config"===e.showComponent?"active":""),id:"helpdesk-config",onClick:e=>a(e.target.id)},e.language.HelpdeskConfiguration),n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("settings"===e.showComponent?"active":""),id:"settings",onClick:e=>a(e.target.id)},e.language.Settings),n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("addons"===e.showComponent?"active":""),id:"addons",onClick:e=>a(e.target.id)},e.language.Marketplace),e.showLicenseTab?n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("license"===e.showComponent?"active":""),id:"license",onClick:e=>a(e.target.id)},e.language.License):"",e.showLicenseDetailsTab?n.a.createElement("li",{className:"tab-list col-xs-6 col ".concat("licensedetails"===e.showComponent?"active":""),id:"licensedetails",onClick:e=>a(e.target.id)},"License Details"):""))),n.a.createElement("div",null,"form-manage"===e.showComponent?n.a.createElement(I,null):"data-bucket"===e.showComponent?n.a.createElement(fe,null):"add-form"===e.showComponent?n.a.createElement(ie,null):"data-bucket"===e.showComponent?n.a.createElement(fe,null):"usersync"===e.showComponent?n.a.createElement(Qe,null):"woocommercesync"===e.showComponent?n.a.createElement(Xe,null):"crm-config"===e.showComponent?n.a.createElement(Le,null):"helpdesk-config"===e.showComponent?n.a.createElement(Oe,null):"settings"===e.showComponent?n.a.createElement(Ue,null):"addons"===e.showComponent?n.a.createElement(Ge,null):"license"===e.showComponent?n.a.createElement(Je,null):"licensedetails"===e.showComponent?n.a.createElement(Ze,null):n.a.createElement("h1",null,"404")))}i()(Xe,"contextType",o.a),a.d(t,"a",function(){return et})},220:function(e,t,a){"use strict";a.r(t),function(e){var t=a(0),s=a.n(t),n=a(30),o=a.n(n),l=a(210),i=a(218),c=a(3);e._babelPolyfill||window._babelPolyfill||a(221),document.addEventListener("DOMContentLoaded",function(){o.a.render(s.a.createElement("div",{className:"leads-builder-app-container"},s.a.createElement(c.a,{position:"top-right",autoClose:4e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),s.a.createElement(l.a,null,s.a.createElement(i.a,null))),document.getElementById("wp-crm-connector-plus"))})}.call(this,a(58))}});